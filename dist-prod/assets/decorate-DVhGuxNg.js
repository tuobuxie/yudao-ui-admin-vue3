import{P as c,_ as y}from"./util-dXIOUGmK.js";import{g as f,u as w}from"./page-BbgZH62H.js";import{u as V}from"./tagsView-CKM4YfGJ.js";import{d as _,u as g,e as b}from"./index-DzK2S43K.js";import{l as P,r as i,e as k,u as a,A as D,E as U,q as j}from"./form-create-_84fGzaM.js";import"./Dialog.vue_vue_type_style_index_0_lang-D3YOFsHs.js";import"./form-designer-DHHJWkD5.js";import"./Qrcode-DD2I8Dz4.js";import"./IFrame.vue_vue_type_script_setup_true_lang-B8_WR1LZ.js";import"./vuedraggable.umd-DPA_Ddu8.js";const q=P({name:"DiyPageDecorate",__name:"decorate",setup(x){const s=_(),r=i(!1),e=i(),l=i(),u=async()=>{if(l){r.value=!0;try{await w(a(e)),s.success("\u4FDD\u5B58\u6210\u529F")}finally{r.value=!1}}},{currentRoute:p}=g(),{delView:n}=V(),m=b();return k(()=>{var o;if(e.value={id:void 0,templateId:void 0,name:"",remark:"",previewPicUrls:[],property:""},(o=l.value)==null||o.resetFields(),!m.params.id)return s.warning("\u53C2\u6570\u9519\u8BEF\uFF0C\u9875\u9762\u7F16\u53F7\u4E0D\u80FD\u4E3A\u7A7A\uFF01"),void n(a(p));(async t=>{r.value=!0;try{e.value=await f(t)}finally{r.value=!1}})(m.params.id)}),(o,t)=>{const d=y;return a(e)&&!a(r)?(j(),D(d,{key:0,modelValue:a(e).property,"onUpdate:modelValue":t[0]||(t[0]=v=>a(e).property=v),title:a(e).name,libs:a(c),onSave:u},null,8,["modelValue","title","libs"])):U("",!0)}}});export{q as default};
