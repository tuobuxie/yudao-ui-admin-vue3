import{_ as K}from"./ContentWrap.vue_vue_type_script_setup_true_lang-4_WNC8um.js";import{d as S,u as j}from"./index-D_TWD7wt.js";import{_ as q}from"./ProductForm.vue_vue_type_script_setup_true_lang-DA5_kvmO.js";import{P as x}from"./index-BpRFJkOM.js";import{j as D,i as H,f as T,am as z,an as R}from"./form-designer-DHHJWkD5.js";import{l as A,r as B,ag as E,m as G,q as n,I as J,x as r,J as u,B as e,H as y,C as _,E as k,A as v,G as d}from"./form-create-_84fGzaM.js";const F={class:"flex items-start justify-between"},L={class:"text-xl font-bold"},M={class:"ml-20px mr-10px"},N=A({__name:"ProductDetailsHeader",props:{product:{}},emits:["refresh"],setup(O,{emit:b}){const o=S(),{push:C}=j(),f=b,p=B();return(a,t)=>{const P=H,w=D,c=T,h=R,I=z,g=K,m=E("hasPermi");return n(),G(J,null,[r("div",null,[r("div",F,[r("div",null,[u(w,null,{default:e(()=>[u(P,null,{default:e(()=>[r("span",L,y(a.product.name),1)]),_:1})]),_:1})]),r("div",null,[_((n(),v(c,{onClick:t[0]||(t[0]=l=>{return s="update",i=a.product.id,void p.value.open(s,i);var s,i}),disabled:a.product.status===1},{default:e(()=>t[6]||(t[6]=[d(" \u7F16\u8F91 ")])),_:1},8,["disabled"])),[[m,["iot:product:update"]]]),a.product.status===0?_((n(),v(c,{key:0,type:"primary",onClick:t[1]||(t[1]=l=>(async s=>{try{await x.updateProductStatus(s,1),o.success("\u53D1\u5E03\u6210\u529F"),p.value.close(),f("refresh")}catch{o.error("\u53D1\u5E03\u5931\u8D25")}})(a.product.id))},{default:e(()=>t[7]||(t[7]=[d(" \u53D1\u5E03 ")])),_:1})),[[m,["iot:product:update"]]]):k("",!0),a.product.status===1?_((n(),v(c,{key:1,type:"danger",onClick:t[2]||(t[2]=l=>(async s=>{try{await x.updateProductStatus(s,0),o.success("\u64A4\u9500\u53D1\u5E03\u6210\u529F"),p.value.close(),f("refresh")}catch{o.error("\u64A4\u9500\u53D1\u5E03\u5931\u8D25")}})(a.product.id))},{default:e(()=>t[8]||(t[8]=[d(" \u64A4\u9500\u53D1\u5E03 ")])),_:1})),[[m,["iot:product:update"]]]):k("",!0)])])]),u(g,{class:"mt-10px"},{default:e(()=>[u(I,{column:1,direction:"horizontal"},{default:e(()=>[u(h,{label:"ProductKey"},{default:e(()=>[d(y(a.product.productKey)+" ",1),u(c,{onClick:t[3]||(t[3]=l=>(async s=>{try{await navigator.clipboard.writeText(s),o.success("\u590D\u5236\u6210\u529F")}catch{o.error("\u590D\u5236\u5931\u8D25")}})(a.product.productKey))},{default:e(()=>t[9]||(t[9]=[d("\u590D\u5236")])),_:1})]),_:1}),u(h,{label:"\u8BBE\u5907\u603B\u6570"},{default:e(()=>[r("span",M,y(a.product.deviceCount??"\u52A0\u8F7D\u4E2D..."),1),u(c,{onClick:t[4]||(t[4]=l=>{return s=a.product.id,void C({name:"IoTDevice",query:{productId:s}});var s})},{default:e(()=>t[10]||(t[10]=[d("\u524D\u5F80\u7BA1\u7406")])),_:1})]),_:1})]),_:1})]),_:1}),u(q,{ref_key:"formRef",ref:p,onSuccess:t[5]||(t[5]=l=>f("refresh"))},null,512)],64)}}});export{N as _};
