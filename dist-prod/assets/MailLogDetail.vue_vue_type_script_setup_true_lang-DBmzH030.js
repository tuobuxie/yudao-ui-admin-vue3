import{_ as A}from"./Dialog.vue_vue_type_style_index_0_lang-D3YOFsHs.js";import{D as k}from"./index-DzK2S43K.js";import{_ as D}from"./DictTag.vue_vue_type_script_lang-D8_eTNf5.js";import{f as g}from"./formatTime-BGPGB_ys.js";import{e as L}from"./index-U_uo9mCA.js";import{am as w,an as C}from"./form-designer-DHHJWkD5.js";import{l as U,r as f,ag as V,A as N,q as n,B as s,J as e,G as t,H as i,u as a,m as d,x as T,E as r,I as _,$ as y,C as P,h as J}from"./form-create-_84fGzaM.js";const Y={key:0},j={key:1},q={key:0},B={key:0},G={key:1},H={key:0},R={key:2},$={key:0},z=U({name:"SystemMailLogDetail",__name:"MailLogDetail",setup(F,{expose:S}){const c=f(!1),b=f(!1),l=f(),M=f([]);return S({open:async v=>{c.value=!0,b.value=!0;try{l.value=v}finally{b.value=!1}M.value=await L()}}),(v,o)=>{const u=C,h=D,I=w,E=A,x=V("dompurify-html");return n(),N(E,{modelValue:a(c),"onUpdate:modelValue":o[0]||(o[0]=m=>J(c)?c.value=m:null),"max-height":500,scroll:!0,title:"\u8BE6\u60C5",width:"800"},{default:s(()=>[e(I,{column:1,border:""},{default:s(()=>[e(u,{label:"\u65E5\u5FD7\u4E3B\u952E","min-width":"120"},{default:s(()=>[t(i(a(l).id),1)]),_:1}),e(u,{label:"\u90AE\u7BB1\u8D26\u53F7"},{default:s(()=>{var m;return[t(i((m=a(M).find(p=>p.id===a(l).accountId))==null?void 0:m.mail),1)]}),_:1}),e(u,{label:"\u90AE\u4EF6\u6A21\u677F"},{default:s(()=>[t(i(a(l).templateId)+" | "+i(a(l).templateCode),1)]),_:1}),e(u,{label:"\u6A21\u7248\u53D1\u9001\u4EBA\u540D\u79F0"},{default:s(()=>[t(i(a(l).templateNickname),1)]),_:1}),e(u,{label:"\u63A5\u6536\u7528\u6237"},{default:s(()=>[a(l).userType&&a(l).userId?(n(),d("span",Y,[e(h,{type:a(k).USER_TYPE,value:a(l).userType},null,8,["type","value"]),t(" ("+i(a(l).userId)+") ",1)])):(n(),d("span",j,"\u65E0"))]),_:1}),e(u,{label:"\u63A5\u6536\u4FE1\u606F"},{default:s(()=>[T("div",null,[a(l).toMails&&a(l).toMails.length>0?(n(),d("div",q,[o[1]||(o[1]=t(" \u6536\u4EF6\uFF1A ")),(n(!0),d(_,null,y(a(l).toMails,(m,p)=>(n(),d("span",{key:m},[t(i(m),1),p<a(l).toMails.length-1?(n(),d("span",B,"\u3001")):r("",!0)]))),128))])):r("",!0),a(l).ccMails&&a(l).ccMails.length>0?(n(),d("div",G,[o[2]||(o[2]=t(" \u6284\u9001\uFF1A ")),(n(!0),d(_,null,y(a(l).ccMails,(m,p)=>(n(),d("span",{key:m},[t(i(m),1),p<a(l).ccMails.length-1?(n(),d("span",H,"\u3001")):r("",!0)]))),128))])):r("",!0),a(l).bccMails&&a(l).bccMails.length>0?(n(),d("div",R,[o[3]||(o[3]=t(" \u5BC6\u9001\uFF1A ")),(n(!0),d(_,null,y(a(l).bccMails,(m,p)=>(n(),d("span",{key:m},[t(i(m),1),p<a(l).bccMails.length-1?(n(),d("span",$,"\u3001")):r("",!0)]))),128))])):r("",!0)])]),_:1}),e(u,{label:"\u90AE\u4EF6\u6807\u9898"},{default:s(()=>[t(i(a(l).templateTitle),1)]),_:1}),e(u,{label:"\u90AE\u4EF6\u5185\u5BB9"},{default:s(()=>[P(T("div",null,null,512),[[x,a(l).templateContent]])]),_:1}),e(u,{label:"\u90AE\u4EF6\u53C2\u6570"},{default:s(()=>[t(i(a(l).templateParams),1)]),_:1}),e(u,{label:"\u521B\u5EFA\u65F6\u95F4"},{default:s(()=>[t(i(a(g)(a(l).createTime)),1)]),_:1}),e(u,{label:"\u53D1\u9001\u72B6\u6001"},{default:s(()=>[e(h,{type:a(k).SYSTEM_MAIL_SEND_STATUS,value:a(l).sendStatus},null,8,["type","value"])]),_:1}),e(u,{label:"\u53D1\u9001\u65F6\u95F4"},{default:s(()=>[t(i(a(g)(a(l).sendTime)),1)]),_:1}),e(u,{label:"\u53D1\u9001\u8FD4\u56DE\u7684\u6D88\u606F\u7F16\u53F7"},{default:s(()=>[t(i(a(l).sendMessageId),1)]),_:1}),e(u,{label:"\u53D1\u9001\u5F02\u5E38"},{default:s(()=>[t(i(a(l).sendException),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])}}});export{z as _};
