import{at as N,au as B}from"./index-DmQdxAiK.js";import{_ as K}from"./MentionModal.vue_vue_type_style_index_0_lang-BQssHd5O.js";import{v as O,R as P,f as R}from"./form-designer-DHHJWkD5.js";import{l as U,r as d,s as j,P as q,A as y,q as x,u as a,h,B as m,x as p,J as s,E as A,G as g}from"./form-create-_84fGzaM.js";const D={style:{margin:"0 10px"}},F={style:{margin:"10px",border:"1px solid #ccc"}},G={style:{float:"right","margin-right":"10px"}},H=U({__name:"Index",emits:["confirm"],setup(J,{expose:C,emit:_}){const I=_,u=d(!1),f=()=>{u.value=!1},M=(o,e)=>{const c={type:"mention",value:e,info:{id:o},children:[{text:""}]},l=i.value;l&&(l.restoreSelection(),l.deleteBackward("character"),l.insertNode(c),l.move(1))},t=d(!1);C({open:async o=>{t.value=!0,n.value=o}});const k=()=>{I("confirm",n.value),t.value=!1},i=j(),v=d("wangEditor-1"),w={excludeKeys:["group-video"],insertKeys:{index:31,keys:["ProcessRecordMenu"]}},V={placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9...",EXTEND_CONF:{mentionConfig:{showModal:()=>{u.value=!0},hideModal:f}}},n=d(),b=o=>{i.value=o};return q(()=>{const o=i.value;o!=null&&o.destroy()}),(o,e)=>{const c=P,l=R,E=O;return x(),y(E,{modelValue:a(t),"onUpdate:modelValue":e[2]||(e[2]=r=>h(t)?t.value=r:null),title:"\u81EA\u5B9A\u4E49\u6A21\u677F",fullscreen:""},{default:m(()=>[p("div",D,[s(c,{title:"\u8F93\u5165 @ \u53EF\u9009\u62E9\u63D2\u5165\u6D41\u7A0B\u8868\u5355\u9009\u9879\u548C\u9ED8\u8BA4\u9009\u9879",type:"info","show-icon":"",closable:!1})]),p("div",F,[s(a(N),{style:{"border-bottom":"1px solid #ccc"},editor:a(i),editorId:a(v),defaultConfig:w},null,8,["editor","editorId"]),s(a(B),{style:{height:"500px","overflow-y":"hidden"},modelValue:a(n),"onUpdate:modelValue":e[0]||(e[0]=r=>h(n)?n.value=r:null),defaultConfig:V,editorId:a(v),onOnCreated:b},null,8,["modelValue","editorId"]),a(u)?(x(),y(K,{key:0,onHideMentionModal:f,onInsertMention:M})):A("",!0)]),p("div",G,[s(l,{onClick:e[1]||(e[1]=r=>t.value=!1)},{default:m(()=>e[3]||(e[3]=[g("\u53D6 \u6D88")])),_:1}),s(l,{type:"primary",onClick:k},{default:m(()=>e[4]||(e[4]=[g("\u786E \u5B9A")])),_:1})])]),_:1},8,["modelValue"])}}});export{H as _};
