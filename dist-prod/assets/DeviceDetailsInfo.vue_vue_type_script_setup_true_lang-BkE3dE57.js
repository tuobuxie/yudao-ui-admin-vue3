import{_ as J}from"./Dialog.vue_vue_type_style_index_0_lang-C4PMlRRW.js";import{d as K,D as b,_ as Y}from"./index-DmQdxAiK.js";import{_ as $}from"./ContentWrap.vue_vue_type_script_setup_true_lang-OPDE9cVe.js";import{_ as q}from"./DictTag.vue_vue_type_script_lang-DiMRMEpR.js";import{f}from"./formatTime-BGPGB_ys.js";import{D as z}from"./index-m3HcIj_K.js";import{M as B}from"./index-C9m7grCy.js";import{i as G,j as H,ad as L,am as M,an as R,f as S,h as F,aj as Q,k as W}from"./form-designer-DHHJWkD5.js";import{l as X,r as V,c as Z,m as D,q as I,J as e,B as l,G as o,H as r,u as c,x as n,A as ee}from"./form-create-_84fGzaM.js";const le={class:"flex items-center"},ae={class:"flex items-center justify-between"},te={class:"flex items-center"},de={class:"text-[14px] text-[var(--el-text-color-secondary)]"},ie={class:"h-[400px] w-full"},ue={key:1,class:"flex items-center justify-center h-full w-full bg-[var(--el-fill-color-light)] text-[var(--el-text-color-secondary)]"},oe=X({__name:"DeviceDetailsInfo",props:{product:{},device:{}},emits:["refresh"],setup(p,{emit:re}){const y=K(),v=V(!1),_=V(!1),i=V({}),E=Z(()=>!(!p.device.longitude||!p.device.latitude)),h=async t=>{try{await navigator.clipboard.writeText(t),y.success("\u590D\u5236\u6210\u529F")}catch{y.error("\u590D\u5236\u5931\u8D25")}},O=async()=>{try{i.value=await z.getDeviceAuthInfo(p.device.id),v.value=!0}catch{y.error("\u83B7\u53D6\u8BBE\u5907\u8BA4\u8BC1\u4FE1\u606F\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u7F51\u7EDC\u8FDE\u63A5\u6216\u8054\u7CFB\u7BA1\u7406\u5458")}},g=()=>{v.value=!1};return(t,a)=>{const s=Y,d=R,x=q,m=S,N=M,k=L,C=H,U=G,j=$,T=W,w=Q,A=F,P=J;return I(),D("div",null,[e(j,null,{default:l(()=>[e(U,{gutter:16},{default:l(()=>[e(C,{span:12},{default:l(()=>[e(k,{class:"h-full"},{header:l(()=>[n("div",le,[e(s,{icon:"ep:info-filled",class:"mr-2 text-primary"}),a[8]||(a[8]=n("span",null,"\u8BBE\u5907\u4FE1\u606F",-1))])]),default:l(()=>[e(N,{column:2,border:""},{default:l(()=>[e(d,{label:"\u4EA7\u54C1\u540D\u79F0"},{default:l(()=>[o(r(t.product.name),1)]),_:1}),e(d,{label:"ProductKey"},{default:l(()=>[o(r(t.product.productKey),1)]),_:1}),e(d,{label:"\u8BBE\u5907\u7C7B\u578B"},{default:l(()=>[e(x,{type:c(b).IOT_PRODUCT_DEVICE_TYPE,value:t.product.deviceType},null,8,["type","value"])]),_:1}),e(d,{label:"\u5B9A\u4F4D\u7C7B\u578B"},{default:l(()=>[e(x,{type:c(b).IOT_LOCATION_TYPE,value:t.device.locationType},null,8,["type","value"])]),_:1}),e(d,{label:"DeviceName"},{default:l(()=>[o(r(t.device.deviceName),1)]),_:1}),e(d,{label:"\u5907\u6CE8\u540D\u79F0"},{default:l(()=>[o(r(t.device.nickname),1)]),_:1}),e(d,{label:"\u521B\u5EFA\u65F6\u95F4"},{default:l(()=>[o(r(c(f)(t.device.createTime)),1)]),_:1}),e(d,{label:"\u5F53\u524D\u72B6\u6001"},{default:l(()=>[e(x,{type:c(b).IOT_DEVICE_STATE,value:t.device.state},null,8,["type","value"])]),_:1}),e(d,{label:"\u6FC0\u6D3B\u65F6\u95F4"},{default:l(()=>[o(r(c(f)(t.device.activeTime)),1)]),_:1}),e(d,{label:"\u6700\u540E\u4E0A\u7EBF\u65F6\u95F4"},{default:l(()=>[o(r(c(f)(t.device.onlineTime)),1)]),_:1}),e(d,{label:"\u6700\u540E\u79BB\u7EBF\u65F6\u95F4"},{default:l(()=>[o(r(c(f)(t.device.offlineTime)),1)]),_:1}),e(d,{label:"\u8BA4\u8BC1\u4FE1\u606F"},{default:l(()=>[e(m,{type:"primary",onClick:O,plain:"",size:"small"},{default:l(()=>a[9]||(a[9]=[o("\u67E5\u770B")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(C,{span:12},{default:l(()=>[e(k,{class:"h-full"},{header:l(()=>[n("div",ae,[n("div",te,[e(s,{icon:"ep:location",class:"mr-2 text-primary"}),a[10]||(a[10]=n("span",null,"\u8BBE\u5907\u4F4D\u7F6E",-1))]),n("div",de," \u6700\u540E\u4E0A\u7EBF\u65F6\u95F4\uFF1A "+r(t.device.onlineTime?c(f)(t.device.onlineTime):"--"),1)])]),default:l(()=>[n("div",ie,[E.value?(I(),ee(B,{key:0,center:p.device.longitude&&p.device.latitude?`${p.device.longitude},${p.device.latitude}`:"",class:"h-full w-full"},null,8,["center"])):(I(),D("div",ue,[e(s,{icon:"ep:warning",class:"mr-2 text-warning"}),a[11]||(a[11]=n("span",null,"\u6682\u65E0\u4F4D\u7F6E\u4FE1\u606F",-1))]))])]),_:1})]),_:1})]),_:1})]),_:1}),e(P,{title:"\u8BBE\u5907\u8BA4\u8BC1\u4FE1\u606F",modelValue:v.value,"onUpdate:modelValue":a[7]||(a[7]=u=>v.value=u),width:"640px","before-close":g},{footer:l(()=>[e(m,{onClick:g},{default:l(()=>a[12]||(a[12]=[o("\u5173\u95ED")])),_:1})]),default:l(()=>[e(A,{model:i.value,"label-width":"120px"},{default:l(()=>[e(w,{label:"clientId"},{default:l(()=>[e(T,{modelValue:i.value.clientId,"onUpdate:modelValue":a[1]||(a[1]=u=>i.value.clientId=u),readonly:""},{append:l(()=>[e(m,{onClick:a[0]||(a[0]=u=>h(i.value.clientId)),type:"primary"},{default:l(()=>[e(s,{icon:"ph:copy"})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(w,{label:"username"},{default:l(()=>[e(T,{modelValue:i.value.username,"onUpdate:modelValue":a[3]||(a[3]=u=>i.value.username=u),readonly:""},{append:l(()=>[e(m,{onClick:a[2]||(a[2]=u=>h(i.value.username)),type:"primary"},{default:l(()=>[e(s,{icon:"ph:copy"})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(w,{label:"password"},{default:l(()=>[e(T,{modelValue:i.value.password,"onUpdate:modelValue":a[6]||(a[6]=u=>i.value.password=u),readonly:"",type:_.value?"text":"password"},{append:l(()=>[e(m,{onClick:a[4]||(a[4]=u=>_.value=!_.value),type:"primary"},{default:l(()=>[e(s,{icon:_.value?"ph:eye-slash":"ph:eye"},null,8,["icon"])]),_:1}),e(m,{onClick:a[5]||(a[5]=u=>h(i.value.password)),type:"primary"},{default:l(()=>[e(s,{icon:"ph:copy"})]),_:1})]),_:1},8,["modelValue","type"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}});export{oe as _};
