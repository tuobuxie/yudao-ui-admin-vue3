import{_ as B,D as y,E as N,L as H,c as K}from"./index-D_TWD7wt.js";import{_ as W}from"./DictTag.vue_vue_type_script_lang-BD_Qe0UA.js";import{D as P}from"./constants-C3gLHYOK.js";import{f as j}from"./formatTime-BGPGB_ys.js";import{_ as $,Z as q,al as F,o as G,a6 as J}from"./form-designer-DHHJWkD5.js";import{l as Q,r as V,b as X,e as Z,L as ee,A,q as u,B as n,J as t,x as e,m as _,H as r,I as ae,$ as le,G as I,E as L,u as l,t as se,O as f,n as R}from"./form-create-_84fGzaM.js";const te={class:"flex items-center",style:{width:"100%"}},re={class:"h-[35px] flex items-center -mx-[10px] px-[20px]",style:{"background-color":"var(--app-content-bg-color)"}},ie={class:"mr-20px"},ne={class:"mr-20px"},pe={key:1,class:"mr-20px"},oe={key:2,class:"mr-20px"},de={class:"flex flex-wrap"},ce={class:"mb-[10px] mr-[10px] flex items-start"},ue={class:"mr-[10px]"},fe={class:"image-slot"},we={class:"overflow-ellipsis max-h-[45px] overflow-hidden"},ye={key:0,class:"flex flex-col"},me={key:1,class:"flex flex-col"},xe=K(Q({name:"OrderTableColumn",__name:"OrderTableColumn",props:{list:{},pickUpStoreList:{}},setup(O){const D=O,Y=({row:s,columnIndex:i})=>{if(i!==0)return s[i].colSpan=0,{display:"none"};s[i].colSpan=8},M=({row:s,rowIndex:i,columnIndex:d})=>{var E,T;const x=(T=(E=D.list.find(b=>{var o;return((o=b.items)==null?void 0:o.findIndex(k=>k.id===s.id))!==-1}))==null?void 0:E.items)==null?void 0:T.length;if([3,4,5,6,7].includes(d))return i!==0?{rowspan:0,colspan:0}:{rowspan:x,colspan:1}},c=V([300,150,120,120,160,120,120,160]);let U=!1,m=null;const z=async s=>{s&&(U||(U=!0,m=s,await R(),S(s)))},S=s=>{if(!s)return;const i=s.store.states.columns.value;i.length!==0&&i.forEach((d,x)=>{d.realWidth&&(c.value[x]=d.realWidth)})},C=async()=>{m&&(await R(),S(m))};return X(()=>D.list,async()=>{await R(),m&&(await new Promise(s=>setTimeout(s,100)),S(m))},{deep:!0}),Z(()=>{window.addEventListener("resize",C)}),ee(()=>{window.removeEventListener("resize",C)}),(s,i)=>{const d=W,x=B,E=F,T=G,b=J,o=$,k=q;return u(),A(o,{"class-name":"order-table-col"},{header:n(()=>[e("div",te,[e("div",{style:f({width:l(c)[0]+"px"}),class:"flex justify-center"}," \u5546\u54C1\u4FE1\u606F ",4),e("div",{style:f({width:l(c)[1]+"px"}),class:"flex justify-center"}," \u5355\u4EF7(\u5143)/\u6570\u91CF ",4),e("div",{style:f({width:l(c)[2]+"px"}),class:"flex justify-center"}," \u552E\u540E\u72B6\u6001 ",4),e("div",{style:f({width:l(c)[3]+"px"}),class:"flex justify-center"}," \u5B9E\u4ED8\u91D1\u989D(\u5143) ",4),e("div",{style:f({width:l(c)[4]+"px"}),class:"flex justify-center"}," \u4E70\u5BB6/\u6536\u8D27\u4EBA ",4),e("div",{style:f({width:l(c)[5]+"px"}),class:"flex justify-center"}," \u914D\u9001\u65B9\u5F0F ",4),e("div",{style:f({width:l(c)[6]+"px"}),class:"flex justify-center"}," \u8BA2\u5355\u72B6\u6001 ",4),e("div",{style:f({width:l(c)[7]+"px"}),class:"flex justify-center"}," \u64CD\u4F5C ",4)])]),default:n(a=>[t(k,{ref:z,border:!0,data:a.row.items,"header-cell-style":Y,"span-method":M,style:{width:"100%"}},{default:n(()=>[t(o,{"min-width":"300",prop:"spuName"},{header:n(()=>[e("div",re,[e("span",ie,"\u8BA2\u5355\u53F7\uFF1A"+r(a.row.no),1),e("span",ne,"\u4E0B\u5355\u65F6\u95F4\uFF1A"+r(l(j)(a.row.createTime)),1),i[0]||(i[0]=e("span",null,"\u8BA2\u5355\u6765\u6E90\uFF1A",-1)),t(d,{type:l(y).TERMINAL,value:a.row.terminal,class:"mr-20px"},null,8,["type","value"]),i[1]||(i[1]=e("span",null,"\u652F\u4ED8\u65B9\u5F0F\uFF1A",-1)),a.row.payChannelCode?(u(),A(d,{key:0,type:l(y).PAY_CHANNEL_CODE,value:a.row.payChannelCode,class:"mr-20px"},null,8,["type","value"])):(u(),_("span",pe,"\u672A\u652F\u4ED8")),a.row.payTime?(u(),_("span",oe," \u652F\u4ED8\u65F6\u95F4\uFF1A"+r(l(j)(a.row.payTime)),1)):L("",!0),i[2]||(i[2]=e("span",null,"\u8BA2\u5355\u7C7B\u578B\uFF1A",-1)),t(d,{type:l(y).TRADE_ORDER_TYPE,value:a.row.type},null,8,["type","value"])])]),default:n(({row:p})=>[e("div",de,[e("div",ce,[e("div",ue,[t(E,{src:p.picUrl,class:"!h-[45px] !w-[45px]",fit:"contain",onClick:w=>{return v=p.picUrl,void H({urlList:[v]});var v}},{error:n(()=>[e("div",fe,[t(x,{icon:"ep:picture"})])]),_:2},1032,["src","onClick"])]),t(T,{content:p.spuName,placement:"top"},{default:n(()=>[e("span",we,r(p.spuName),1)]),_:2},1032,["content"])]),(u(!0),_(ae,null,le(p.properties,w=>(u(),A(b,{key:w.propertyId,class:"mb-[10px] mr-[10px]"},{default:n(()=>[I(r(w.propertyName)+": "+r(w.valueName),1)]),_:2},1024))),128))])]),_:2},1024),t(o,{label:"\u5546\u54C1\u539F\u4EF7*\u6570\u91CF",prop:"price",width:"150"},{default:n(({row:p})=>[I(r(l(N)(p.price))+" \u5143 / "+r(p.count),1)]),_:1}),t(o,{label:"\u552E\u540E\u72B6\u6001",prop:"afterSaleStatus",width:"120"},{default:n(({row:p})=>[t(d,{type:l(y).TRADE_ORDER_ITEM_AFTER_SALE_STATUS,value:p.afterSaleStatus},null,8,["type","value"])]),_:1}),t(o,{align:"center",label:"\u5B9E\u9645\u652F\u4ED8","min-width":"120",prop:"payPrice"},{default:n(()=>[I(r(l(N)(a.row.payPrice)+"\u5143"),1)]),_:2},1024),t(o,{label:"\u4E70\u5BB6/\u6536\u8D27\u4EBA","min-width":"160"},{default:n(()=>{var p,w,v,g;return[a.row.deliveryType===l(P).EXPRESS.type?(u(),_("div",ye,[e("span",null,"\u4E70\u5BB6\uFF1A"+r((p=a.row.user)==null?void 0:p.nickname),1),e("span",null," \u6536\u8D27\u4EBA\uFF1A"+r(a.row.receiverName)+" "+r(a.row.receiverMobile)+" "+r(a.row.receiverAreaName)+" "+r(a.row.receiverDetailAddress),1)])):L("",!0),a.row.deliveryType===l(P).PICK_UP.type?(u(),_("div",me,[e("span",null," \u95E8\u5E97\u540D\u79F0\uFF1A "+r((w=s.pickUpStoreList.find(h=>h.id===a.row.pickUpStoreId))==null?void 0:w.name),1),e("span",null," \u95E8\u5E97\u624B\u673A\uFF1A "+r((v=s.pickUpStoreList.find(h=>h.id===a.row.pickUpStoreId))==null?void 0:v.phone),1),e("span",null," \u81EA\u63D0\u95E8\u5E97: "+r((g=s.pickUpStoreList.find(h=>h.id===a.row.pickUpStoreId))==null?void 0:g.detailAddress),1)])):L("",!0)]}),_:2},1024),t(o,{align:"center",label:"\u914D\u9001\u65B9\u5F0F",width:"120"},{default:n(()=>[t(d,{type:l(y).TRADE_DELIVERY_TYPE,value:a.row.deliveryType},null,8,["type","value"])]),_:2},1024),t(o,{align:"center",label:"\u8BA2\u5355\u72B6\u6001",width:"120"},{default:n(()=>[t(d,{type:l(y).TRADE_ORDER_STATUS,value:a.row.status},null,8,["type","value"])]),_:2},1024),t(o,{align:"center",fixed:"right",label:"\u64CD\u4F5C",width:"160"},{default:n(()=>[se(s.$slots,"default",{row:a.row},void 0,!0)]),_:2},1024)]),_:2},1032,["data"])]),_:3})}}}),[["__scopeId","data-v-31f79bab"]]);export{xe as default};
