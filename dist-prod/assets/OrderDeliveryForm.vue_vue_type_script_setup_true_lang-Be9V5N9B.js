import{a as E,d as G,av as J}from"./index-B2urM1q-.js";import{_ as Q}from"./Dialog.vue_vue_type_style_index_0_lang-bMayE4GC.js";import{g as R}from"./index-dGs5GZA3.js";import{d as S}from"./index-BhCMOSLE.js";import{h as K,aj as $,s as z,u as H,x as L,Q as M,k as P,ak as T,f as W}from"./form-designer-DHHJWkD5.js";import{l as X,r,e as Y,A as p,q as m,B as l,C as Z,u as s,J as d,m as V,E as ee,h as b,G as c,I as k,$ as ae}from"./form-create-_84fGzaM.js";const le=X({name:"OrderDeliveryForm",__name:"OrderDeliveryForm",emits:["success"],setup(se,{expose:x,emit:I}){const{t:h}=E(),w=G(),u=r(!1),n=r(!1),i=r("express"),t=r({id:void 0,logisticsId:null,logisticsNo:""}),v=r();x({open:async o=>{C(),J(t.value,o),o.logisticsId===0&&(i.value="none"),u.value=!0}});const N=I,U=async()=>{n.value=!0;try{const o=s(t);i.value==="none"&&(o.logisticsId=0,o.logisticsNo=""),await S(o),w.success(h("common.updateSuccess")),u.value=!1,N("success",!0)}finally{n.value=!1}},C=()=>{var o;t.value={id:void 0,logisticsId:null,logisticsNo:""},(o=v.value)==null||o.resetFields()},_=r([]);return Y(async()=>{_.value=await R()}),(o,e)=>{const y=H,D=z,f=$,F=M,O=L,A=P,j=K,g=W,q=Q,B=T;return m(),p(q,{modelValue:s(u),"onUpdate:modelValue":e[4]||(e[4]=a=>b(u)?u.value=a:null),title:"\u8BA2\u5355\u53D1\u8D27",width:"25%"},{footer:l(()=>[d(g,{disabled:s(n),type:"primary",onClick:U},{default:l(()=>e[7]||(e[7]=[c("\u786E \u5B9A")])),_:1},8,["disabled"]),d(g,{onClick:e[3]||(e[3]=a=>u.value=!1)},{default:l(()=>e[8]||(e[8]=[c("\u53D6 \u6D88")])),_:1})]),default:l(()=>[Z((m(),p(j,{ref_key:"formRef",ref:v,model:s(t),"label-width":"80px"},{default:l(()=>[d(f,{label:"\u53D1\u8D27\u65B9\u5F0F"},{default:l(()=>[d(D,{modelValue:s(i),"onUpdate:modelValue":e[0]||(e[0]=a=>b(i)?i.value=a:null)},{default:l(()=>[d(y,{border:"",value:"express"},{default:l(()=>e[5]||(e[5]=[c("\u5FEB\u9012\u7269\u6D41")])),_:1}),d(y,{border:"",value:"none"},{default:l(()=>e[6]||(e[6]=[c("\u65E0\u9700\u53D1\u8D27")])),_:1})]),_:1},8,["modelValue"])]),_:1}),s(i)==="express"?(m(),V(k,{key:0},[d(f,{label:"\u7269\u6D41\u516C\u53F8"},{default:l(()=>[d(O,{modelValue:s(t).logisticsId,"onUpdate:modelValue":e[1]||(e[1]=a=>s(t).logisticsId=a),placeholder:"\u8BF7\u9009\u62E9",style:{width:"100%"}},{default:l(()=>[(m(!0),V(k,null,ae(s(_),a=>(m(),p(F,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),d(f,{label:"\u7269\u6D41\u5355\u53F7"},{default:l(()=>[d(A,{modelValue:s(t).logisticsNo,"onUpdate:modelValue":e[2]||(e[2]=a=>s(t).logisticsNo=a)},null,8,["modelValue"])]),_:1})],64)):ee("",!0)]),_:1},8,["model"])),[[B,s(n)]])]),_:1},8,["modelValue"])}}});export{le as _};
