import{aE as F,c as w}from"./index-D_TWD7wt.js";import{_ as P}from"./CurrentTimeConditionConfig.vue_vue_type_script_setup_true_lang-C6PEFru4.js";import{_ as j}from"./ProductSelector.vue_vue_type_script_setup_true_lang-40bEuN6r.js";import{_ as M}from"./DeviceSelector.vue_vue_type_script_setup_true_lang-eqdl2wZu.js";import Y from"./PropertySelector-BSu0sb_n.js";import B from"./OperatorSelector-D547tD5V.js";import{_ as J}from"./ValueInput.vue_vue_type_script_setup_true_lang-BaHpE4Rd.js";import{v as n,x as m,F as z,w as c}from"./constants-CaEZMpg0.js";import{i as $,j as G,aj as H,x as K,Q as W}from"./form-designer-DHHJWkD5.js";import{l as X,r as C,c as Z,m as s,q as r,J as a,A as b,E as T,B as o,u,I,$ as U}from"./form-create-_84fGzaM.js";import"./DictTag.vue_vue_type_script_lang-BD_Qe0UA.js";import"./index-BpRFJkOM.js";import"./index-lvaXv4aK.js";import"./index-DxCMWBFB.js";const ee={class:"flex flex-col gap-16px"},ae={key:1,class:"flex flex-col gap-16px"},le={key:2,class:"space-y-16px"},ue=w(X({name:"ConditionConfig",__name:"ConditionConfig",props:{modelValue:{},triggerType:{}},emits:["update:modelValue"],setup(S,{emit:q}){const x=S,y=q,A=[{value:c.ONLINE.value,label:c.ONLINE.label},{value:c.OFFLINE.value,label:c.OFFLINE.label}],L=[{value:n.EQUALS.value,label:n.EQUALS.name},{value:n.NOT_EQUALS.value,label:n.NOT_EQUALS.name}],e=F(x,"modelValue",y),E=C("string"),V=C(null),N=Z(()=>e.value.type===m.DEVICE_STATUS||e.value.type===m.DEVICE_PROPERTY),p=(t,d)=>{e.value[t]=d,y("update:modelValue",e.value)},h=t=>{e.value=t,y("update:modelValue",e.value)},O=t=>{const d=t===m.CURRENT_TIME,f=t===m.DEVICE_STATUS;(d||f)&&(e.value.identifier=void 0),d&&(e.value.productId=void 0,e.value.deviceId=void 0),e.value.operator=d?"at_time":n.EQUALS.value,e.value.param=""},R=t=>{e.value.deviceId=void 0,e.value.identifier=""},k=t=>{e.value.identifier=""},Q=t=>{E.value=t.type,V.value=t.config,e.value.operator=n.EQUALS.value,e.value.param=""},D=()=>{e.value.param=""};return(t,d)=>{const f=W,g=K,i=H,v=G,_=$;return r(),s("div",ee,[a(_,{gutter:16},{default:o(()=>[a(v,{span:8},{default:o(()=>[a(i,{label:"\u6761\u4EF6\u7C7B\u578B",required:""},{default:o(()=>[a(g,{"model-value":u(e).type,"onUpdate:modelValue":d[0]||(d[0]=l=>p("type",l)),onChange:O,placeholder:"\u8BF7\u9009\u62E9\u6761\u4EF6\u7C7B\u578B",class:"w-full"},{default:o(()=>[(r(!0),s(I,null,U(u(z)(),l=>(r(),b(f,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["model-value"])]),_:1})]),_:1})]),_:1}),u(N)?(r(),b(_,{key:0,gutter:16},{default:o(()=>[a(v,{span:12},{default:o(()=>[a(i,{label:"\u4EA7\u54C1",required:""},{default:o(()=>[a(j,{"model-value":u(e).productId,"onUpdate:modelValue":d[1]||(d[1]=l=>p("productId",l)),onChange:R},null,8,["model-value"])]),_:1})]),_:1}),a(v,{span:12},{default:o(()=>[a(i,{label:"\u8BBE\u5907",required:""},{default:o(()=>[a(M,{"model-value":u(e).deviceId,"onUpdate:modelValue":d[2]||(d[2]=l=>p("deviceId",l)),"product-id":u(e).productId,onChange:k},null,8,["model-value","product-id"])]),_:1})]),_:1})]),_:1})):T("",!0),u(e).type===u(m).DEVICE_STATUS?(r(),s("div",ae,[a(_,{gutter:16},{default:o(()=>[a(v,{span:12},{default:o(()=>[a(i,{label:"\u64CD\u4F5C\u7B26",required:""},{default:o(()=>[a(g,{"model-value":u(e).operator,"onUpdate:modelValue":d[3]||(d[3]=l=>p("operator",l)),placeholder:"\u8BF7\u9009\u62E9\u64CD\u4F5C\u7B26",class:"w-full"},{default:o(()=>[(r(),s(I,null,U(L,l=>a(f,{key:l.value,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1},8,["model-value"])]),_:1})]),_:1}),a(v,{span:12},{default:o(()=>[a(i,{label:"\u8BBE\u5907\u72B6\u6001",required:""},{default:o(()=>[a(g,{"model-value":u(e).param,"onUpdate:modelValue":d[4]||(d[4]=l=>p("param",l)),placeholder:"\u8BF7\u9009\u62E9\u8BBE\u5907\u72B6\u6001",class:"w-full"},{default:o(()=>[(r(),s(I,null,U(A,l=>a(f,{key:l.value,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1},8,["model-value"])]),_:1})]),_:1})]),_:1})])):u(e).type===u(m).DEVICE_PROPERTY?(r(),s("div",le,[a(_,{gutter:16},{default:o(()=>[a(v,{span:6},{default:o(()=>[a(i,{label:"\u76D1\u63A7\u9879",required:""},{default:o(()=>[a(Y,{"model-value":u(e).identifier,"onUpdate:modelValue":d[5]||(d[5]=l=>p("identifier",l)),"trigger-type":t.triggerType,"product-id":u(e).productId,"device-id":u(e).deviceId,onChange:Q},null,8,["model-value","trigger-type","product-id","device-id"])]),_:1})]),_:1}),a(v,{span:6},{default:o(()=>[a(i,{label:"\u64CD\u4F5C\u7B26",required:""},{default:o(()=>[a(B,{"model-value":u(e).operator,"onUpdate:modelValue":d[6]||(d[6]=l=>p("operator",l)),"property-type":u(E),onChange:D},null,8,["model-value","property-type"])]),_:1})]),_:1}),a(v,{span:12},{default:o(()=>[a(i,{label:"\u6BD4\u8F83\u503C",required:""},{default:o(()=>[a(J,{"model-value":u(e).param,"onUpdate:modelValue":d[7]||(d[7]=l=>p("param",l)),"property-type":u(E),operator:u(e).operator,"property-config":u(V)},null,8,["model-value","property-type","operator","property-config"])]),_:1})]),_:1})]),_:1})])):u(e).type===u(m).CURRENT_TIME?(r(),b(P,{key:3,"model-value":u(e),"onUpdate:modelValue":h},null,8,["model-value"])):T("",!0)])}}}),[["__scopeId","data-v-a128ff80"]]);export{ue as default};
