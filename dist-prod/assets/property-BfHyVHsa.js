import{_ as R}from"./ComponentContainerProperty-l4okuEJD.js";import{aE as $,E as h,_ as q,$ as A}from"./index-D_TWD7wt.js";import{_ as B}from"./index-DU_7wYD5.js";import{e as D}from"./couponTemplate-DdJ3N9rf.js";import{i as G,h as H}from"./constants-C3gLHYOK.js";import{_ as T}from"./CouponSelect.vue_vue_type_script_setup_true_lang-O1mBgn3i.js";import{h as F,ad as K,a7 as L,aj as M,f as N,s as O,o as Q,t as W,A as X}from"./form-designer-DHHJWkD5.js";import{l as Y,r as g,b as Z,m,q as d,J as e,B as a,u as t,I as v,$ as ee,G as x,H as i,E as le,h as ae}from"./form-create-_84fGzaM.js";import"./Dialog.vue_vue_type_style_index_0_lang-CJT4CHEp.js";import"./index.vue_vue_type_script_setup_true_lang-ZV0RCuCp.js";import"./DictTag.vue_vue_type_script_lang-BD_Qe0UA.js";import"./ContentWrap.vue_vue_type_script_setup_true_lang-4_WNC8um.js";import"./formatter-B5kt-F-a.js";import"./formatTime-BGPGB_ys.js";const te={key:0},oe={key:1},ue={key:2},ne=Y({name:"CouponCardProperty",__name:"property",props:{modelValue:{}},emits:["update:modelValue"],setup(w,{emit:C}){const o=$(w,"modelValue",C),p=g([]),b=g(),U=()=>{b.value.open()},k=()=>{o.value.couponIds=p.value.map(r=>r.id)};return Z(()=>o.value.couponIds,async()=>{var r;((r=o.value.couponIds)==null?void 0:r.length)>0&&(p.value=await D(o.value.couponIds))},{immediate:!0,deep:!0}),(r,u)=>{const V=L,s=q,I=N,n=M,y=K,c=W,f=Q,P=O,E=A,_=B,S=X,j=F,z=R;return d(),m(v,null,[e(z,{modelValue:t(o).style,"onUpdate:modelValue":u[6]||(u[6]=l=>t(o).style=l)},{default:a(()=>[e(j,{"label-width":"80px",model:t(o)},{default:a(()=>[e(y,{header:"\u4F18\u60E0\u5238\u5217\u8868",class:"property-group",shadow:"never"},{default:a(()=>[(d(!0),m(v,null,ee(t(p),(l,J)=>(d(),m("div",{key:J,class:"flex items-center justify-between"},[e(V,{size:"large",truncated:""},{default:a(()=>[x(i(l.name),1)]),_:2},1024),e(V,{type:"info",truncated:""},{default:a(()=>[l.usePrice>0?(d(),m("span",te,"\u6EE1"+i(t(h)(l.usePrice))+"\u5143\uFF0C",1)):le("",!0),l.discountType===t(G).PRICE.type?(d(),m("span",oe," \u51CF"+i(t(h)(l.discountPrice))+"\u5143 ",1)):(d(),m("span",ue," \u6253"+i(l.discountPercent)+"\u6298 ",1))]),_:2},1024)]))),128)),e(n,{"label-width":"0"},{default:a(()=>[e(I,{onClick:U,type:"primary",plain:"",class:"m-t-8px w-full"},{default:a(()=>[e(s,{icon:"ep:plus",class:"mr-5px"}),u[8]||(u[8]=x(" \u6DFB\u52A0 "))]),_:1})]),_:1})]),_:1}),e(y,{header:"\u4F18\u60E0\u5238\u6837\u5F0F",class:"property-group",shadow:"never"},{default:a(()=>[e(n,{label:"\u5217\u6570",prop:"type"},{default:a(()=>[e(P,{modelValue:t(o).columns,"onUpdate:modelValue":u[0]||(u[0]=l=>t(o).columns=l)},{default:a(()=>[e(f,{class:"item",content:"\u4E00\u5217",placement:"bottom"},{default:a(()=>[e(c,{value:1},{default:a(()=>[e(s,{icon:"fluent:text-column-one-24-filled"})]),_:1})]),_:1}),e(f,{class:"item",content:"\u4E8C\u5217",placement:"bottom"},{default:a(()=>[e(c,{value:2},{default:a(()=>[e(s,{icon:"fluent:text-column-two-24-filled"})]),_:1})]),_:1}),e(f,{class:"item",content:"\u4E09\u5217",placement:"bottom"},{default:a(()=>[e(c,{value:3},{default:a(()=>[e(s,{icon:"fluent:text-column-three-24-filled"})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(n,{label:"\u80CC\u666F\u56FE\u7247",prop:"bgImg"},{default:a(()=>[e(E,{modelValue:t(o).bgImg,"onUpdate:modelValue":u[1]||(u[1]=l=>t(o).bgImg=l),height:"80px",width:"100%",class:"min-w-160px"},null,8,["modelValue"])]),_:1}),e(n,{label:"\u6587\u5B57\u989C\u8272",prop:"textColor"},{default:a(()=>[e(_,{modelValue:t(o).textColor,"onUpdate:modelValue":u[2]||(u[2]=l=>t(o).textColor=l)},null,8,["modelValue"])]),_:1}),e(n,{label:"\u6309\u94AE\u80CC\u666F",prop:"button.bgColor"},{default:a(()=>[e(_,{modelValue:t(o).button.bgColor,"onUpdate:modelValue":u[3]||(u[3]=l=>t(o).button.bgColor=l)},null,8,["modelValue"])]),_:1}),e(n,{label:"\u6309\u94AE\u6587\u5B57",prop:"button.color"},{default:a(()=>[e(_,{modelValue:t(o).button.color,"onUpdate:modelValue":u[4]||(u[4]=l=>t(o).button.color=l)},null,8,["modelValue"])]),_:1}),e(n,{label:"\u95F4\u9694",prop:"space"},{default:a(()=>[e(S,{modelValue:t(o).space,"onUpdate:modelValue":u[5]||(u[5]=l=>t(o).space=l),max:100,min:0,"show-input":"","input-size":"small","show-input-controls":!1},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),e(T,{ref_key:"couponSelectDialog",ref:b,"multiple-selection":t(p),"onUpdate:multipleSelection":u[7]||(u[7]=l=>ae(p)?p.value=l:null),"take-type":t(H).USER.type,onChange:k},null,8,["multiple-selection","take-type"])],64)}}});export{ne as default};
