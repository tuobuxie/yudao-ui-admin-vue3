import{a as o}from"./constants-C3gLHYOK.js";import{_ as c}from"./index.vue_vue_type_style_index_0_lang-DYwnKgZ4.js";import{_ as f}from"./SimpleModelDesign.vue_vue_type_script_setup_true_lang-CcaM3fz3.js";import{l as k,as as _,i as M,c as w,m as d,u as m,q as l,A as u,E as n,I as i,n as B}from"./form-create-_84fGzaM.js";const I=k({__name:"ProcessDesign",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(p,{expose:v}){const e=_(p,"modelValue"),y=M("processData"),t=async a=>{if(a){const s={...e.value,bpmnXml:e.value.type===o.BPMN?a:null,simpleModel:e.value.type===o.BPMN?null:a};await B(),e.value=s}},r=w(()=>{var a,s;return!!((a=e.value)!=null&&a.key&&((s=e.value)!=null&&s.name))});return v({validate:async()=>{try{if(!y.value)throw new Error("\u8BF7\u8BBE\u8BA1\u6D41\u7A0B");return!0}catch(a){throw a}}}),(a,s)=>e.value.type===m(o).BPMN?(l(),d(i,{key:0},[m(r)?(l(),u(c,{key:0,"model-id":e.value.id,"model-key":e.value.key,"model-name":e.value.name,onSuccess:t},null,8,["model-id","model-key","model-name"])):n("",!0)],64)):(l(),d(i,{key:1},[m(r)?(l(),u(f,{key:0,"model-name":e.value.name,"model-form-id":e.value.formId,"model-form-type":e.value.formType,"start-user-ids":e.value.startUserIds,"start-dept-ids":e.value.startDeptIds,onSuccess:t},null,8,["model-name","model-form-id","model-form-type","start-user-ids","start-dept-ids"])):n("",!0)],64))}});export{I as _};
