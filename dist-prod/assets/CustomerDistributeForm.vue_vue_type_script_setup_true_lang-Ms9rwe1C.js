import{a as q,d as F}from"./index-B2urM1q-.js";import{_ as A}from"./Dialog.vue_vue_type_style_index_0_lang-bMayE4GC.js";import{d as B}from"./index-7u7L_BLd.js";import{g as D}from"./index-Bix5n4IG.js";import{h as G,aj as J,x as K,Q as N,ak as Q,f as R}from"./form-designer-DHHJWkD5.js";import{l as $,r as d,j as z,A as f,q as m,B as r,C as E,u as l,J as n,m as H,I as L,$ as M,G as c,h as O}from"./form-create-_84fGzaM.js";const P=$({__name:"CustomerDistributeForm",emits:["success"],setup(S,{expose:w,emit:_}){const{t:T}=q(),U=F(),o=d(!1),t=d(!1),v=d([]),s=d({id:void 0,ownerUserId:void 0}),b=z({ownerUserId:[{required:!0,message:"\u8D1F\u8D23\u4EBA\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),i=d();w({open:async u=>{o.value=!0,k(),s.value.id=u,v.value=await D()}});const y=_,I=async()=>{if(i&&await i.value.validate()){t.value=!0;try{await B([s.value.id],s.value.ownerUserId),U.success("\u5206\u914D\u5BA2\u6237\u6210\u529F"),o.value=!1,y("success")}finally{t.value=!1}}},k=()=>{var u;s.value={id:void 0,ownerUserId:void 0},(u=i.value)==null||u.resetFields()};return(u,e)=>{const V=N,g=K,x=J,C=G,p=R,h=A,j=Q;return m(),f(h,{modelValue:l(o),"onUpdate:modelValue":e[2]||(e[2]=a=>O(o)?o.value=a:null),title:"\u5206\u914D\u5BA2\u6237"},{footer:r(()=>[n(p,{disabled:l(t),type:"primary",onClick:I},{default:r(()=>e[3]||(e[3]=[c("\u786E \u5B9A")])),_:1},8,["disabled"]),n(p,{onClick:e[1]||(e[1]=a=>o.value=!1)},{default:r(()=>e[4]||(e[4]=[c("\u53D6 \u6D88")])),_:1})]),default:r(()=>[E((m(),f(C,{ref_key:"formRef",ref:i,model:l(s),rules:l(b),"label-width":"100px"},{default:r(()=>[n(x,{label:"\u8D1F\u8D23\u4EBA",prop:"ownerUserId"},{default:r(()=>[n(g,{modelValue:l(s).ownerUserId,"onUpdate:modelValue":e[0]||(e[0]=a=>l(s).ownerUserId=a),class:"w-1/1"},{default:r(()=>[(m(!0),H(L,null,M(l(v),a=>(m(),f(V,{key:a.id,label:a.nickname,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[j,l(t)]])]),_:1},8,["modelValue"])}}});export{P as _};
