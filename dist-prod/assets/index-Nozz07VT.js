import{H as m}from"./index-D_TWD7wt.js";import{b as v}from"./spu-gjdwZNJW.js";import{al as C}from"./form-designer-DHHJWkD5.js";import{l as T,r as b,b as R,m as t,q as o,I as B,$ as I,O as p,E as s,x as i,J as w,D as y,H as a,u as d,A as S}from"./form-create-_84fGzaM.js";const $={key:0,class:"absolute left-0 top-0 z-1 items-center justify-center"},P={class:"text-12px"},U={class:"absolute bottom-8px right-8px"},L=T({name:"ProductCard",__name:"index",props:{property:{}},setup(g){const l=g,u=b([]);R(()=>l.property.spuIds,async()=>{u.value=await v(l.property.spuIds)},{immediate:!0,deep:!0});const h=e=>{const c=l.property.layoutType==="twoCol"?2:1;return{marginLeft:e%c===0?"0":l.property.space+"px",marginTop:e<c?"0":l.property.space+"px"}},x=b(),k=()=>{let e="100%";return l.property.layoutType==="twoCol"&&(e=(x.value.offsetWidth-l.property.space)/2+"px"),{width:e}};return(e,c)=>{const n=C;return o(),t("div",{class:y("box-content min-h-30px w-full flex flex-row flex-wrap"),ref_key:"containerRef",ref:x},[(o(!0),t(B,null,I(d(u),(r,f)=>(o(),t("div",{class:"relative box-content flex flex-row flex-wrap overflow-hidden bg-white",style:p({...h(f),...k(),borderTopLeftRadius:`${e.property.borderRadiusTop}px`,borderTopRightRadius:`${e.property.borderRadiusTop}px`,borderBottomLeftRadius:`${e.property.borderRadiusBottom}px`,borderBottomRightRadius:`${e.property.borderRadiusBottom}px`}),key:f},[e.property.badge.show&&e.property.badge.imgUrl?(o(),t("div",$,[w(n,{fit:"cover",src:e.property.badge.imgUrl,class:"h-26px w-38px"},null,8,["src"])])):s("",!0),i("div",{class:y(["h-140px",{"w-full":e.property.layoutType!=="oneColSmallImg","w-140px":e.property.layoutType==="oneColSmallImg"}])},[w(n,{fit:"cover",class:"h-full w-full",src:r.picUrl},null,8,["src"])],2),i("div",{class:y([" flex flex-col gap-8px p-8px box-border",{"w-full":e.property.layoutType!=="oneColSmallImg","w-[calc(100%-140px-16px)]":e.property.layoutType==="oneColSmallImg"}])},[e.property.fields.name.show?(o(),t("div",{key:0,class:y(["text-14px ",{truncate:e.property.layoutType!=="oneColSmallImg","overflow-ellipsis line-clamp-2":e.property.layoutType==="oneColSmallImg"}]),style:p({color:e.property.fields.name.color})},a(r.name),7)):s("",!0),e.property.fields.introduction.show?(o(),t("div",{key:1,class:"truncate text-12px",style:p({color:e.property.fields.introduction.color})},a(r.introduction),5)):s("",!0),i("div",null,[e.property.fields.price.show?(o(),t("span",{key:0,class:"text-16px",style:p({color:e.property.fields.price.color})}," \uFFE5"+a(d(m)(r.price)),5)):s("",!0),e.property.fields.marketPrice.show&&r.marketPrice?(o(),t("span",{key:1,class:"ml-4px text-10px line-through",style:p({color:e.property.fields.marketPrice.color})},"\uFFE5"+a(d(m)(r.marketPrice)),5)):s("",!0)]),i("div",P,[e.property.fields.salesCount.show?(o(),t("span",{key:0,style:p({color:e.property.fields.salesCount.color})}," \u5DF2\u552E"+a((r.salesCount||0)+(r.virtualSalesCount||0))+"\u4EF6 ",5)):s("",!0),e.property.fields.stock.show?(o(),t("span",{key:1,style:p({color:e.property.fields.stock.color})}," \u5E93\u5B58"+a(r.stock||0),5)):s("",!0)])],2),i("div",U,[e.property.btnBuy.type==="text"?(o(),t("span",{key:0,class:"rounded-full p-x-12px p-y-4px text-12px text-white",style:p({background:`linear-gradient(to right, ${e.property.btnBuy.bgBeginColor}, ${e.property.btnBuy.bgEndColor}`})},a(e.property.btnBuy.text),5)):(o(),S(n,{key:1,class:"h-28px w-28px rounded-full",fit:"cover",src:e.property.btnBuy.imgUrl},null,8,["src"]))])],4))),128))],512)}}});export{L as default};
