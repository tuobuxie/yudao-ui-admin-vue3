import{X as m}from"./index-DmQdxAiK.js";import d from"./ProductItem-B2VZbH4S.js";import{b7 as g}from"./form-designer-DHHJWkD5.js";import{l as v,r as l,j as y,c as f,m as w,q as u,$ as I,A as k,u as N,I as b}from"./form-create-_84fGzaM.js";const p=i=>m.get({url:"/product/browse-history/page",params:i}),x=v({name:"ProductBrowsingHistory",__name:"ProductBrowsingHistory",setup(i,{expose:c}){const o=l([]),t=l(0),e=y({pageNo:1,pageSize:10,userId:0,userDeleted:!1}),n=f(()=>t.value>0&&Math.ceil(t.value/e.pageSize)===e.pageNo);return c({getHistoryList:async a=>{e.userId=a.userId;const r=await p(e);t.value=r.total,o.value=r.list},loadMore:async()=>{if(n.value)return;e.pageNo+=1;const a=await p(e);t.value=a.total,g(o.value,a.list)}}),(a,r)=>(u(!0),w(b,null,I(N(o),s=>(u(),k(d,{key:s.id,picUrl:s.picUrl,price:s.price,"sales-count":s.salesCount,"spu-id":s.spuId,stock:s.stock,title:s.spuName,class:"mb-10px"},null,8,["picUrl","price","sales-count","spu-id","stock","title"]))),128))}});export{x as _};
