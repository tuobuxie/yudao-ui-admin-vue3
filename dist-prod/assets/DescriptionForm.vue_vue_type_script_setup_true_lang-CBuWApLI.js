import{p as l,d as j,a0 as d,av as w}from"./index-D_TWD7wt.js";import{r as x}from"./formRules-DgRLzYxc.js";import{h as N,aj as g}from"./form-designer-DHHJWkD5.js";import{l as k,r as p,j as O,b as m,A as n,q as c,u as t,B as u,J as f,E as q}from"./form-create-_84fGzaM.js";const A=k({name:"ProductDescriptionForm",__name:"DescriptionForm",props:{propFormData:{type:Object,default:()=>{}},activeName:l.string.def(""),isDetail:l.bool.def(!1)},emits:["update:activeName"],setup(o,{expose:v,emit:b}){const D=j(),s=o,r=p(),e=p({description:""}),y=O({description:[x]});m(()=>e.value.description,a=>{a==="<p><br></p>"&&(e.value.description="")},{deep:!0,immediate:!0}),m(()=>s.propFormData,a=>{a&&w(e.value,a)},{immediate:!0});const _=b;return v({validate:async()=>{var a;if(r)try{await((a=t(r))==null?void 0:a.validate()),Object.assign(s.propFormData,e.value)}catch(i){throw D.error("\u3010\u5546\u54C1\u8BE6\u60C5\u3011\u4E0D\u5B8C\u5584\uFF0C\u8BF7\u586B\u5199\u76F8\u5173\u4FE1\u606F"),_("update:activeName","description"),i}}}),(a,i)=>{const F=g,V=N;return c(),n(V,{ref_key:"formRef",ref:r,model:t(e),rules:t(y),"label-width":"120px",disabled:o.isDetail},{default:u(()=>[f(F,{label:"\u5546\u54C1\u8BE6\u60C5",prop:"description"},{default:u(()=>[o.isDetail?q("",!0):(c(),n(t(d),{key:0,modelValue:t(e).description,"onUpdate:modelValue":i[0]||(i[0]=h=>t(e).description=h)},null,8,["modelValue"])),f(t(d),{modelValue:t(e).description,readonly:""},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules","disabled"])}}});export{A as _};
