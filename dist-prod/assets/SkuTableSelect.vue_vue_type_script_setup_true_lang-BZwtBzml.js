import{p as T,d as j,H as B}from"./index-DmQdxAiK.js";import{_ as H}from"./Dialog.vue_vue_type_style_index_0_lang-C4PMlRRW.js";import{g as q}from"./spu-BE3uLdh7.js";import{Z as A,_ as G,u as J,al as N,ak as Z}from"./form-designer-DHHJWkD5.js";import{l as z,r as p,e as D,b as E,A as f,q as h,B as a,C as F,u as s,J as t,h as _,G as c,H as b}from"./form-create-_84fGzaM.js";const K=z({name:"SkuTableSelect",__name:"SkuTableSelect",props:{spuId:T.number.def(null)},emits:["change"],setup(g,{expose:V,emit:y}){const i=g;j();const v=p([]),m=p(!1),o=p(!1),r=p(),k=y;return V({open:()=>{o.value=!0}}),D(async()=>{}),E(()=>i.spuId,()=>{i.spuId&&(async()=>{m.value=!0;try{const w=await q(i.spuId);v.value=w.skus}finally{m.value=!1}})()}),(w,l)=>{const x=J,n=G,I=N,S=H,U=Z;return h(),f(S,{modelValue:s(o),"onUpdate:modelValue":l[1]||(l[1]=e=>_(o)?o.value=e:null),appendToBody:!0,title:"\u9009\u62E9\u89C4\u683C",width:"700"},{default:a(()=>[F((h(),f(s(A),{data:s(v),"show-overflow-tooltip":""},{default:a(()=>[t(n,{label:"#",width:"55"},{default:a(({row:e})=>[t(x,{value:e.id,modelValue:s(r),"onUpdate:modelValue":l[0]||(l[0]=u=>_(r)?r.value=u:null),onChange:u=>(d=>{k("change",d),o.value=!1,r.value=void 0})(e)},{default:a(()=>l[2]||(l[2]=[c("\xA0 ")])),_:2},1032,["value","modelValue","onChange"])]),_:1}),t(n,{label:"\u56FE\u7247","min-width":"80"},{default:a(({row:e})=>[t(I,{src:e.picUrl,class:"h-30px w-30px","preview-src-list":[e.picUrl],"preview-teleported":""},null,8,["src","preview-src-list"])]),_:1}),t(n,{label:"\u89C4\u683C",align:"center","min-width":"80"},{default:a(({row:e})=>{var u,d;return[c(b((d=(u=e.properties)==null?void 0:u.map(C=>C.valueName))==null?void 0:d.join(" ")),1)]}),_:1}),t(n,{align:"center",label:"\u9500\u552E\u4EF7(\u5143)","min-width":"80"},{default:a(({row:e})=>[c(b(s(B)(e.price)),1)]),_:1})]),_:1},8,["data"])),[[U,s(m)]])]),_:1},8,["modelValue"])}}});export{K as _};
