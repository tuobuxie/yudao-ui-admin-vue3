import{aE as E,_ as V}from"./index-D_TWD7wt.js";import w from"./ConditionConfig-DP58WyFn.js";import{v as I,x as G}from"./constants-CaEZMpg0.js";import{f as S}from"./form-designer-DHHJWkD5.js";import{l as T,c as U,m as s,q as o,u as a,x as t,J as r,B as u,G as y,E as b,I as j,$ as A,A as P,H as v,n as R}from"./form-create-_84fGzaM.js";const z={class:"p-16px"},Q={key:0,class:"text-center py-24px"},$={class:"flex flex-col items-center gap-12px"},q={key:1,class:"space-y-16px"},B={class:"border border-[var(--el-border-color-lighter)] rounded-6px bg-[var(--el-fill-color-blank)] shadow-sm"},D={class:"flex items-center justify-between p-12px bg-[var(--el-fill-color-light)] border-b border-[var(--el-border-color-lighter)] rounded-t-4px"},H={class:"flex items-center gap-8px"},J={class:"w-20px h-20px bg-blue-500 text-white rounded-full flex items-center justify-center text-10px font-bold"},L={class:"text-12px font-500 text-[var(--el-text-color-primary)]"},O={class:"p-12px"},Y={key:0,class:"text-center py-16px"},F={class:"block mt-8px text-12px text-[var(--el-text-color-secondary)]"},K=T({name:"SubConditionGroupConfig",__name:"SubConditionGroupConfig",props:{modelValue:{},triggerType:{},maxConditions:{}},emits:["update:modelValue"],setup(h,{emit:k}){const m=h,e=E(m,"modelValue",k),d=U(()=>m.maxConditions||3),f=async()=>{var l;if(e.value||(e.value=[]),((l=e.value)==null?void 0:l.length)>=d.value)return;const c={type:G.DEVICE_PROPERTY,productId:void 0,deviceId:void 0,identifier:"",operator:I.EQUALS.value,param:""};await R(),e.value&&e.value.push(c)};return(c,l)=>{const p=V,x=S;return o(),s("div",z,[a(e)&&a(e).length!==0?(o(),s("div",q,[(o(!0),s(j,null,A(a(e),(C,i)=>(o(),s("div",{key:`condition-${i}`,class:"relative"},[t("div",B,[t("div",D,[t("div",H,[t("div",J,v(i+1),1),t("span",L,"\u6761\u4EF6 "+v(i+1),1)]),a(e).length>1?(o(),P(x,{key:0,type:"danger",size:"small",text:"",onClick:g=>{return n=i,void(e.value&&e.value.splice(n,1));var n},class:"hover:bg-red-50"},{default:u(()=>[r(p,{icon:"ep:delete"})]),_:2},1032,["onClick"])):b("",!0)]),t("div",O,[r(w,{"model-value":C,"onUpdate:modelValue":g=>((n,_)=>{e.value&&(e.value[n]=_)})(i,g),"trigger-type":c.triggerType},null,8,["model-value","onUpdate:modelValue","trigger-type"])])])]))),128)),a(e)&&a(e).length>0&&a(e).length<a(d)?(o(),s("div",Y,[r(x,{type:"primary",plain:"",onClick:f},{default:u(()=>[r(p,{icon:"ep:plus"}),l[2]||(l[2]=y(" \u7EE7\u7EED\u6DFB\u52A0\u6761\u4EF6 "))]),_:1}),t("span",F," \u6700\u591A\u53EF\u6DFB\u52A0 "+v(a(d))+" \u4E2A\u6761\u4EF6 ",1)])):b("",!0)])):(o(),s("div",Q,[t("div",$,[r(p,{icon:"ep:plus",class:"text-32px text-[var(--el-text-color-placeholder)]"}),l[1]||(l[1]=t("div",{class:"text-[var(--el-text-color-secondary)]"},[t("p",{class:"text-14px font-500 mb-4px"},"\u6682\u65E0\u6761\u4EF6"),t("p",{class:"text-12px"},"\u70B9\u51FB\u4E0B\u65B9\u6309\u94AE\u6DFB\u52A0\u7B2C\u4E00\u4E2A\u6761\u4EF6")],-1)),r(x,{type:"primary",onClick:f},{default:u(()=>[r(p,{icon:"ep:plus"}),l[0]||(l[0]=y(" \u6DFB\u52A0\u6761\u4EF6 "))]),_:1})])]))])}}});export{K as _};
