import{_ as v}from"./Dialog.vue_vue_type_style_index_0_lang-C4PMlRRW.js";import"./index-DmQdxAiK.js";import{_ as h}from"./JsonEditor-DrHlyGJr.js";import{H as L}from"./index-DWAKVBMX.js";import{j as y}from"./json-D1vBrYzr.js";import{T as S}from"./index-DM2r8AcY.js";import{I as U}from"./constants-BFrNJh5I.js";import{s as j,t as w}from"./form-designer-DHHJWkD5.js";import{l as M,r as d,i as b,e as x,A as B,q as I,B as o,J as r,u as l,h as n,G as f}from"./form-create-_84fGzaM.js";const P=M({name:"ThingModelTSL",__name:"ThingModelTSL",setup(q,{expose:c}){const t=d(!1),T=d("\u7269\u6A21\u578B TSL"),u=b(U.PRODUCT),s=d("code");c({open:()=>{t.value=!0}});const m=d({});return x(async()=>{L.registerLanguage("json",y),await(async()=>{var i;m.value=await S.getThingModelTSLByProductId(((i=u==null?void 0:u.value)==null?void 0:i.id)||0)})()}),(i,e)=>{const V=h,p=w,_=j,g=v;return I(),B(g,{modelValue:l(t),"onUpdate:modelValue":e[2]||(e[2]=a=>n(t)?t.value=a:null),title:l(T)},{footer:o(()=>[r(_,{modelValue:l(s),"onUpdate:modelValue":e[1]||(e[1]=a=>n(s)?s.value=a:null),size:"small"},{default:o(()=>[r(p,{label:"code"},{default:o(()=>e[3]||(e[3]=[f("\u4EE3\u7801\u89C6\u56FE")])),_:1}),r(p,{label:"editor"},{default:o(()=>e[4]||(e[4]=[f("\u7F16\u8F91\u5668\u89C6\u56FE")])),_:1})]),_:1},8,["modelValue"])]),default:o(()=>[r(V,{modelValue:l(m),"onUpdate:modelValue":e[0]||(e[0]=a=>n(m)?m.value=a:null),mode:l(s)==="editor"?"code":"view",height:"600px"},null,8,["modelValue","mode"])]),_:1},8,["modelValue","title"])}}});export{P as _};
