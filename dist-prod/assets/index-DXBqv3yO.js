import{e as A,d as q,u as x}from"./index-DzK2S43K.js";import{u as E}from"./tagsView-CKM4YfGJ.js";import{D as P}from"./index-BrWsOwLz.js";import{D as R,P as j}from"./index-xDnKc7mk.js";import{T as J}from"./index-CeJe158m.js";import{_ as L}from"./DeviceDetailsHeader.vue_vue_type_script_setup_true_lang-DIssJ4EV.js";import{_ as M}from"./DeviceDetailsInfo.vue_vue_type_script_setup_true_lang-DDbXeOIB.js";import{_ as S}from"./DeviceDetailsThingModel.vue_vue_type_script_setup_true_lang-DyMcAIXp.js";import{_ as W}from"./DeviceDetailsMessage.vue_vue_type_script_setup_true_lang-DK7ymX73.js";import{_ as Y}from"./DeviceDetailsSimulator.vue_vue_type_script_setup_true_lang-BCwl6RG4.js";import{_ as B}from"./DeviceDetailConfig.vue_vue_type_script_setup_true_lang-BNJFI-4t.js";import{a0 as C,$ as G,j as H}from"./form-designer-DHHJWkD5.js";import{l as N,r as n,e as Q,u as e,m as U,q as t,J as o,B as l,h as $,A as m,E as d,I as z}from"./form-create-_84fGzaM.js";import"./ContentWrap.vue_vue_type_script_setup_true_lang-BYZVL11n.js";import"./DeviceForm.vue_vue_type_script_setup_true_lang-C0uROtbP.js";import"./Dialog.vue_vue_type_style_index_0_lang-D3YOFsHs.js";import"./index-Bo43e_mE.js";import"./index-wleeYhLk.js";import"./DictTag.vue_vue_type_script_lang-D8_eTNf5.js";import"./formatTime-BGPGB_ys.js";import"./DeviceDetailsThingModelProperty.vue_vue_type_script_setup_true_lang-CLLLwG3s.js";import"./DeviceDetailsThingModelPropertyHistory.vue_vue_type_script_setup_true_lang-qBZtWysM.js";import"./Echart.vue_vue_type_script_setup_true_lang-DrazIEIC.js";import"./echarts-BmJPRACc.js";import"./constants-DGDXM-Iq.js";import"./DeviceDetailsThingModelEvent.vue_vue_type_script_setup_true_lang-C5q2iDq5.js";import"./index.vue_vue_type_script_setup_true_lang-Cvlg2yMl.js";import"./DeviceDetailsThingModelService.vue_vue_type_script_setup_true_lang-B_tzHgFs.js";import"./DataDefinition.vue_vue_type_script_setup_true_lang-Ej2CCADM.js";import"./JsonEditor-C_28o7Cb.js";const F=N({name:"IoTDeviceDetail",__name:"index",setup(K){const g=A(),_=q(),y=Number(g.params.id),f=n(!0),u=n({}),a=n({}),i=n("info"),p=n([]),v=async()=>{f.value=!0;try{a.value=await P.getDevice(y),await b(a.value.productId),await h(a.value.productId)}finally{f.value=!1}},b=async c=>{u.value=await j.getProduct(c)},h=async c=>{try{const s=await J.getThingModelList({productId:c});p.value=s||[]}catch{p.value=[]}},{delView:w}=E(),k=x(),{currentRoute:D}=k;return Q(async()=>{if(!y)return _.warning("\u53C2\u6570\u9519\u8BEF\uFF0C\u4EA7\u54C1\u4E0D\u80FD\u4E3A\u7A7A\uFF01"),void w(e(D));await v(),i.value=g.query.tab||"info"}),(c,s)=>{const r=G,T=C,V=H;return t(),U(z,null,[o(L,{loading:e(f),product:e(u),device:e(a),onRefresh:v},null,8,["loading","product","device"]),o(V,null,{default:l(()=>[o(T,{modelValue:e(i),"onUpdate:modelValue":s[0]||(s[0]=I=>$(i)?i.value=I:null)},{default:l(()=>[o(r,{label:"\u8BBE\u5907\u4FE1\u606F",name:"info"},{default:l(()=>[e(i)==="info"?(t(),m(M,{key:0,product:e(u),device:e(a)},null,8,["product","device"])):d("",!0)]),_:1}),o(r,{label:"\u7269\u6A21\u578B\u6570\u636E",name:"model"},{default:l(()=>[e(i)==="model"?(t(),m(S,{key:0,"device-id":e(a).id,"thing-model-list":e(p)},null,8,["device-id","thing-model-list"])):d("",!0)]),_:1}),e(u).deviceType===e(R).GATEWAY?(t(),m(r,{key:0,label:"\u5B50\u8BBE\u5907\u7BA1\u7406"})):d("",!0),o(r,{label:"\u8BBE\u5907\u6D88\u606F",name:"log"},{default:l(()=>[e(i)==="log"?(t(),m(W,{key:0,"device-id":e(a).id},null,8,["device-id"])):d("",!0)]),_:1}),o(r,{label:"\u6A21\u62DF\u8BBE\u5907",name:"simulator"},{default:l(()=>[e(i)==="simulator"?(t(),m(Y,{key:0,product:e(u),device:e(a),"thing-model-list":e(p)},null,8,["product","device","thing-model-list"])):d("",!0)]),_:1}),o(r,{label:"\u8BBE\u5907\u914D\u7F6E",name:"config"},{default:l(()=>[e(i)==="config"?(t(),m(B,{key:0,device:e(a),onSuccess:v},null,8,["device"])):d("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1})],64)}}});export{F as default};
