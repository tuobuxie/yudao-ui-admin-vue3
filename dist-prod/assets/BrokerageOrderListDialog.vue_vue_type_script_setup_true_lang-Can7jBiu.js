import{h as N,D,_ as Y}from"./index-D_TWD7wt.js";import{_ as j}from"./Dialog.vue_vue_type_style_index_0_lang-CJT4CHEp.js";import{_ as F}from"./index.vue_vue_type_script_setup_true_lang-ZV0RCuCp.js";import{_ as G}from"./DictTag.vue_vue_type_script_lang-BD_Qe0UA.js";import{_ as q}from"./ContentWrap.vue_vue_type_script_setup_true_lang-4_WNC8um.js";import{d as H}from"./formatTime-BGPGB_ys.js";import{g as K}from"./index-Zw7zR2Yi.js";import{m as M}from"./constants-C3gLHYOK.js";import{f as J}from"./formatter-DFWU-F47.js";import{h as P,aj as Q,s as Z,t as $,x as W,Q as X,F as ee,f as ae,Z as le,_ as te,ah as re,ak as se}from"./form-designer-DHHJWkD5.js";import{l as oe,r as p,j as ue,A as v,q as i,B as r,J as e,u as l,G as n,m as pe,I as ne,$ as me,C as de,h as ie}from"./form-create-_84fGzaM.js";const ce=oe({name:"BrokerageOrderListDialog",__name:"BrokerageOrderListDialog",setup(fe,{expose:R}){const c=p(!0),g=p(0),h=p([]),s=ue({pageNo:1,pageSize:10,userId:null,bizType:M.ORDER.type,sourceUserLevel:0,createTime:[],status:null}),U=p(),m=p(!1);R({open:async o=>{m.value=!0,s.userId=o,w()}});const b=async()=>{c.value=!0;try{const o=await K({...s,sourceUserLevel:s.sourceUserLevel===0?void 0:s.sourceUserLevel});h.value=o.list,g.value=o.total}finally{c.value=!1}},f=()=>{s.pageNo=1,b()},w=()=>{var o;(o=U.value)==null||o.resetFields(),f()};return(o,a)=>{const _=$,T=Z,d=Q,L=X,k=W,A=ee,x=Y,y=ae,E=P,V=q,u=te,O=re,S=G,z=le,C=F,B=j,I=se;return i(),v(B,{modelValue:l(m),"onUpdate:modelValue":a[5]||(a[5]=t=>ie(m)?m.value=t:null),title:"\u63A8\u5E7F\u8BA2\u5355\u5217\u8868",width:"75%"},{default:r(()=>[e(V,null,{default:r(()=>[e(E,{ref_key:"queryFormRef",ref:U,inline:!0,model:l(s),class:"-mb-15px","label-width":"85px"},{default:r(()=>[e(d,{label:"\u7528\u6237\u7C7B\u578B",prop:"sourceUserLevel"},{default:r(()=>[e(T,{modelValue:l(s).sourceUserLevel,"onUpdate:modelValue":a[0]||(a[0]=t=>l(s).sourceUserLevel=t),onChange:f},{default:r(()=>[e(_,{value:0},{default:r(()=>a[6]||(a[6]=[n("\u5168\u90E8")])),_:1}),e(_,{value:1},{default:r(()=>a[7]||(a[7]=[n("\u4E00\u7EA7\u63A8\u5E7F\u4EBA")])),_:1}),e(_,{value:2},{default:r(()=>a[8]||(a[8]=[n("\u4E8C\u7EA7\u63A8\u5E7F\u4EBA")])),_:1})]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"\u72B6\u6001",prop:"status"},{default:r(()=>[e(k,{modelValue:l(s).status,"onUpdate:modelValue":a[1]||(a[1]=t=>l(s).status=t),class:"!w-240px",clearable:"",placeholder:"\u8BF7\u9009\u62E9\u72B6\u6001"},{default:r(()=>[(i(!0),pe(ne,null,me(l(N)(l(D).BROKERAGE_RECORD_STATUS),t=>(i(),v(L,{key:t.value,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"\u7ED1\u5B9A\u65F6\u95F4",prop:"createTime"},{default:r(()=>[e(A,{modelValue:l(s).createTime,"onUpdate:modelValue":a[2]||(a[2]=t=>l(s).createTime=t),"default-time":[new Date("1 00:00:00"),new Date("1 23:59:59")],class:"!w-240px","end-placeholder":"\u7ED3\u675F\u65E5\u671F","start-placeholder":"\u5F00\u59CB\u65E5\u671F",type:"daterange","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue","default-time"])]),_:1}),e(d,null,{default:r(()=>[e(y,{onClick:f},{default:r(()=>[e(x,{class:"mr-5px",icon:"ep:search"}),a[9]||(a[9]=n(" \u641C\u7D22 "))]),_:1}),e(y,{onClick:w},{default:r(()=>[e(x,{class:"mr-5px",icon:"ep:refresh"}),a[10]||(a[10]=n(" \u91CD\u7F6E "))]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(V,null,{default:r(()=>[de((i(),v(z,{data:l(h),"show-overflow-tooltip":!0,stripe:!0},{default:r(()=>[e(u,{align:"center",label:"\u8BA2\u5355\u7F16\u53F7","min-width":"80px",prop:"bizId"}),e(u,{align:"center",label:"\u7528\u6237\u7F16\u53F7","min-width":"80px",prop:"sourceUserId"}),e(u,{align:"center",label:"\u5934\u50CF",prop:"sourceUserAvatar",width:"70px"},{default:r(t=>[e(O,{src:t.row.sourceUserAvatar},null,8,["src"])]),_:1}),e(u,{align:"center",label:"\u6635\u79F0","min-width":"80px",prop:"sourceUserNickname"}),e(u,{formatter:l(J),align:"center",label:"\u4F63\u91D1","min-width":"100px",prop:"price"},null,8,["formatter"]),e(u,{align:"center",label:"\u72B6\u6001","min-width":"85",prop:"status"},{default:r(t=>[e(S,{type:l(D).BROKERAGE_RECORD_STATUS,value:t.row.status},null,8,["type","value"])]),_:1}),e(u,{formatter:l(H),align:"center",label:"\u521B\u5EFA\u65F6\u95F4",prop:"createTime",width:"180px"},null,8,["formatter"])]),_:1},8,["data"])),[[I,l(c)]]),e(C,{limit:l(s).pageSize,"onUpdate:limit":a[3]||(a[3]=t=>l(s).pageSize=t),page:l(s).pageNo,"onUpdate:page":a[4]||(a[4]=t=>l(s).pageNo=t),total:l(g),onPagination:b},null,8,["limit","page","total"])]),_:1})]),_:1},8,["modelValue"])}}});export{ce as _};
