import"./index-DmQdxAiK.js";import{D as $}from"./index-ClKy6G4O.js";import{ak as q,h as D,Z as U,_ as j,aj as B,k as A,f as F,i as G}from"./form-designer-DHHJWkD5.js";import{l as J,r as p,j as L,b as R,m as S,q as b,I as Z,C as z,J as e,u as r,A as E,B as a,G as x}from"./form-create-_84fGzaM.js";const H=J({__name:"Demo03CourseForm",props:{studentId:{}},setup(h,{expose:I}){const c=h,i=p(!1),l=p([]),m=L({studentId:[{required:!0,message:"\u5B66\u751F\u7F16\u53F7\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],name:[{required:!0,message:"\u540D\u5B57\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],score:[{required:!0,message:"\u5206\u6570\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),f=p();R(()=>c.studentId,async t=>{if(l.value=[],t)try{i.value=!0,l.value=await $.getDemo03CourseListByStudentId(t)}finally{i.value=!1}},{immediate:!0});const V=()=>{const t={id:void 0,studentId:void 0,name:void 0,score:void 0};t.studentId=c.studentId,l.value.push(t)};return I({validate:()=>f.value.validate(),getData:()=>l.value}),(t,o)=>{const u=j,v=A,_=B,g=F,w=U,k=D,y=G,C=q;return b(),S(Z,null,[z((b(),E(k,{ref_key:"formRef",ref:f,model:r(l),rules:r(m),"label-width":"0px","inline-message":!0},{default:a(()=>[e(w,{data:r(l),class:"-mt-10px"},{default:a(()=>[e(u,{label:"\u5E8F\u53F7",type:"index",width:"100"}),e(u,{label:"\u540D\u5B57","min-width":"150"},{default:a(({row:s,$index:n})=>[e(_,{prop:`${n}.name`,rules:r(m).name,class:"mb-0px!"},{default:a(()=>[e(v,{modelValue:s.name,"onUpdate:modelValue":d=>s.name=d,placeholder:"\u8BF7\u8F93\u5165\u540D\u5B57"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","rules"])]),_:1}),e(u,{label:"\u5206\u6570","min-width":"150"},{default:a(({row:s,$index:n})=>[e(_,{prop:`${n}.score`,rules:r(m).score,class:"mb-0px!"},{default:a(()=>[e(v,{modelValue:s.score,"onUpdate:modelValue":d=>s.score=d,placeholder:"\u8BF7\u8F93\u5165\u5206\u6570"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","rules"])]),_:1}),e(u,{align:"center",fixed:"right",label:"\u64CD\u4F5C",width:"60"},{default:a(({$index:s})=>[e(g,{onClick:n=>{return d=s,void l.value.splice(d,1);var d},link:""},{default:a(()=>o[0]||(o[0]=[x("\u2014")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1},8,["model","rules"])),[[C,r(i)]]),e(y,{justify:"center",class:"mt-3"},{default:a(()=>[e(g,{onClick:V,round:""},{default:a(()=>o[1]||(o[1]=[x("+ \u6DFB\u52A0\u5B66\u751F\u8BFE\u7A0B")])),_:1})]),_:1})],64)}}});export{H as _};
