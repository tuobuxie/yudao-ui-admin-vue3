import{_ as v}from"./index-DzK2S43K.js";import{g as y}from"./index-C5VAipPY.js";import{d as x,h as _}from"./tree-COGD3qag.js";import{k as b,y as g}from"./form-designer-DHHJWkD5.js";import{l as V,r,b as w,e as C,m as D,q as T,I as U,x as i,J as t,u as o,h as j,B as q}from"./form-create-_84fGzaM.js";const B={class:"head-container"},I={class:"head-container"},J=V({name:"SystemUserDeptTree",__name:"DeptTree",emits:["node-click"],setup(K,{emit:m}){const s=r(""),c=r([]),n=r(),p=(e,a)=>!e||a.name.includes(e);let l={};const u=async(e,a)=>{l&&l.name===e.name?a.checked=!a.checked:a.checked=!0,a.checked?(l=e,d("node-click",e)):(n.value.setCurrentKey(void 0),d("node-click",void 0),l=null)},d=m;return w(s,e=>{n.value.filter(e)}),C(async()=>{await(async()=>{const e=await y();c.value=[],c.value.push(..._(e))})()}),(e,a)=>{const h=v,f=b;return T(),D(U,null,[i("div",B,[t(f,{modelValue:o(s),"onUpdate:modelValue":a[0]||(a[0]=k=>j(s)?s.value=k:null),class:"mb-20px",clearable:"",placeholder:"\u8BF7\u8F93\u5165\u90E8\u95E8\u540D\u79F0"},{prefix:q(()=>[t(h,{icon:"ep:search"})]),_:1},8,["modelValue"])]),i("div",I,[t(o(g),{ref_key:"treeRef",ref:n,data:o(c),"expand-on-click-node":!1,"filter-node-method":p,props:o(x),"default-expand-all":"","highlight-current":"","node-key":"id",onNodeClick:u},null,8,["data","props"])])],64)}}});export{J as _};
