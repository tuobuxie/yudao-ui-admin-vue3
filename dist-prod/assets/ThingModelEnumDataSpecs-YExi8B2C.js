import{aE as y,d as N,N as o,c as k}from"./index-DmQdxAiK.js";import{a as S}from"./constants-BFrNJh5I.js";import{aj as U,k as q,f as z}from"./form-designer-DHHJWkD5.js";import{l as A,A as $,q as f,B as t,x as n,m as c,J as u,I as C,$ as M,G as v,u as T}from"./form-create-_84fGzaM.js";const Z={class:"flex flex-col"},j=k(A({name:"ThingModelEnumDataSpecs",__name:"ThingModelEnumDataSpecs",props:{modelValue:{}},emits:["update:modelValue"],setup(g,{emit:E}){const s=y(g,"modelValue",E),w=N(),x=()=>{s.value.push({dataType:S.ENUM,name:"",value:void 0})},V=(p,a,e)=>{if(o(a))return void e(new Error("\u679A\u4E3E\u503C\u4E0D\u80FD\u4E3A\u7A7A"));if(isNaN(Number(a)))return void e(new Error("\u679A\u4E3E\u503C\u5FC5\u987B\u662F\u6570\u5B57"));s.value.map(l=>l.value).filter(l=>l===a).length>1?e(new Error("\u679A\u4E3E\u503C\u4E0D\u80FD\u91CD\u590D")):e()},b=(p,a,e)=>{o(a)?e(new Error("\u679A\u4E3E\u63CF\u8FF0\u4E0D\u80FD\u4E3A\u7A7A")):/^[\u4e00-\u9fa5a-zA-Z0-9]/.test(a)?/^[\u4e00-\u9fa5a-zA-Z0-9][a-zA-Z0-9\u4e00-\u9fa5_-]*$/.test(a)?a.length>20?e(new Error("\u679A\u4E3E\u63CF\u8FF0\u957F\u5EA6\u4E0D\u80FD\u8D85\u8FC720\u4E2A\u5B57\u7B26")):e():e(new Error("\u679A\u4E3E\u63CF\u8FF0\u53EA\u80FD\u5305\u542B\u4E2D\u6587\u3001\u82F1\u6587\u5B57\u6BCD\u3001\u6570\u5B57\u3001\u4E0B\u5212\u7EBF\u548C\u77ED\u5212\u7EBF")):e(new Error("\u679A\u4E3E\u63CF\u8FF0\u5FC5\u987B\u4EE5\u4E2D\u6587\u3001\u82F1\u6587\u5B57\u6BCD\u6216\u6570\u5B57\u5F00\u5934"))},h=(p,a,e)=>{if(o(s.value))return void e(new Error("\u8BF7\u81F3\u5C11\u6DFB\u52A0\u4E00\u4E2A\u679A\u4E3E\u9879"));if(s.value.some(r=>o(r.value)||o(r.name)))return void e(new Error("\u5B58\u5728\u672A\u586B\u5199\u7684\u679A\u4E3E\u503C\u6216\u63CF\u8FF0"));if(s.value.some(r=>isNaN(Number(r.value))))return void e(new Error("\u5B58\u5728\u975E\u6570\u5B57\u7684\u679A\u4E3E\u503C"));const l=s.value.map(r=>r.value),i=new Set(l);l.length===i.size?e():e(new Error("\u5B58\u5728\u91CD\u590D\u7684\u679A\u4E3E\u503C"))};return(p,a)=>{const e=q,l=U,i=z;return f(),$(l,{rules:[{required:!0,validator:h,trigger:"change"}],label:"\u679A\u4E3E\u9879"},{default:t(()=>[n("div",Z,[a[3]||(a[3]=n("div",{class:"flex items-center"},[n("span",{class:"flex-1"}," \u53C2\u6570\u503C "),n("span",{class:"flex-1"}," \u53C2\u6570\u63CF\u8FF0 ")],-1)),(f(!0),c(C,null,M(T(s),(r,m)=>(f(),c("div",{key:m,class:"flex items-center justify-between mb-5px"},[u(l,{prop:`property.dataSpecsList[${m}].value`,rules:[{required:!0,message:"\u679A\u4E3E\u503C\u4E0D\u80FD\u4E3A\u7A7A"},{validator:V,trigger:"blur"}],class:"flex-1 mb-0"},{default:t(()=>[u(e,{modelValue:r.value,"onUpdate:modelValue":d=>r.value=d,placeholder:"\u8BF7\u8F93\u5165\u679A\u4E3E\u503C,\u5982'0'"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","rules"]),a[1]||(a[1]=n("span",{class:"mx-2"},"~",-1)),u(l,{prop:`property.dataSpecsList[${m}].name`,rules:[{required:!0,message:"\u679A\u4E3E\u63CF\u8FF0\u4E0D\u80FD\u4E3A\u7A7A"},{validator:b,trigger:"blur"}],class:"flex-1 mb-0"},{default:t(()=>[u(e,{modelValue:r.name,"onUpdate:modelValue":d=>r.name=d,placeholder:"\u5BF9\u8BE5\u679A\u4E3E\u9879\u7684\u63CF\u8FF0"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","rules"]),u(i,{class:"ml-10px",link:"",type:"primary",onClick:d=>(_=>{s.value.length!==1?s.value.splice(_,1):w.warning("\u81F3\u5C11\u9700\u8981\u4E00\u4E2A\u679A\u4E3E\u9879")})(m)},{default:t(()=>a[0]||(a[0]=[v("\u5220\u9664")])),_:2},1032,["onClick"])]))),128)),u(i,{link:"",type:"primary",onClick:x},{default:t(()=>a[2]||(a[2]=[v("+\u6DFB\u52A0\u679A\u4E3E\u9879")])),_:1})])]),_:1},8,["rules"])}}}),[["__scopeId","data-v-a0f74fb2"]]);export{j as default};
