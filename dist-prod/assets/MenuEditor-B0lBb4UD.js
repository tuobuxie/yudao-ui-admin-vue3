import{d as R,_ as h,c as W}from"./index-D_TWD7wt.js";import q from"./main-pKHDI58N.js";import G from"./main-BF5zqWWf.js";import{W as J}from"./main-D9ycNlLh.js";import{f as Q,k as S,x as Y,Q as $,i as z,j as D,v as F}from"./form-designer-DHHJWkD5.js";import{l as H,c as f,r as b,b as L,m as s,q as u,x as o,E as r,J as i,B as d,G as w,u as a,I as N,$ as O,A as k,h as T,n as X}from"./form-create-_84fGzaM.js";import"./TabNews-B9hk90eX.js";import"./TabText.vue_vue_type_script_setup_true_lang-BrKjmdad.js";import"./TabImage-CH7hNheb.js";import"./useUpload-DMg_ETdt.js";import"./index.vue_vue_type_script_setup_true_lang-ZV0RCuCp.js";import"./main-CDvmGgW1.js";import"./main.vue_vue_type_script_setup_true_lang-jjQFySBe.js";import"./index-CJHvx9SV.js";import"./index-BYDBj7aJ.js";import"./formatTime-BGPGB_ys.js";import"./TabVoice-BxilIvf3.js";import"./TabVideo-UcXMYqdX.js";import"./TabMusic.vue_vue_type_script_setup_true_lang-BceaGsK_.js";const Z=[{value:"view",label:"\u8DF3\u8F6C\u7F51\u9875"},{value:"miniprogram",label:"\u8DF3\u8F6C\u5C0F\u7A0B\u5E8F"},{value:"click",label:"\u70B9\u51FB\u56DE\u590D"},{value:"article_view_limited",label:"\u8DF3\u8F6C\u56FE\u6587\u6D88\u606F"},{value:"scancode_push",label:"\u626B\u7801\u76F4\u63A5\u8FD4\u56DE\u7ED3\u679C"},{value:"scancode_waitmsg",label:"\u626B\u7801\u56DE\u590D"},{value:"pic_sysphoto",label:"\u7CFB\u7EDF\u62CD\u7167\u53D1\u56FE"},{value:"pic_photo_or_album",label:"\u62CD\u7167\u6216\u8005\u76F8\u518C"},{value:"pic_weixin",label:"\u5FAE\u4FE1\u76F8\u518C"},{value:"location_select",label:"\u9009\u62E9\u5730\u7406\u4F4D\u7F6E"}],ee={class:"configure_page"},le={class:"delete_btn"},ae={key:0},te={class:"menu_content"},ie={class:"menu_content"},oe={key:0,class:"configur_content"},ue={key:1,class:"configur_content"},ne={class:"applet"},se={class:"applet"},de={class:"applet"},ce={key:2,class:"configur_content"},pe={key:0,class:"select-item"},re={key:1},me={key:3,class:"configur_content"},ve=W(H({__name:"MenuEditor",props:{accountId:{},modelValue:{},isParent:{type:Boolean}},emits:["delete","update:modelValue"],setup(U,{emit:I}){const P=R(),V=U,g=I,l=f({get:()=>V.modelValue,set(n){g("update:modelValue",n)}}),m=b(!1),_=b(!1),A=f(()=>{var n;return!(((n=l.value.children)==null?void 0:n.length)>0)});L(l,()=>{_.value=!1,X(()=>{_.value=!0})});const x=n=>{const e=n.articleId,v=n.content.newsItem;v.length>1&&P.alertWarning("\u60A8\u9009\u62E9\u7684\u662F\u591A\u56FE\u6587\uFF0C\u5C06\u9ED8\u8BA4\u8DF3\u8F6C\u7B2C\u4E00\u7BC7"),m.value=!1,l.value.articleId=e,l.value.replyArticles=[],v.forEach(c=>{l.value.replyArticles.push({title:c.title,description:c.digest,picUrl:c.picUrl,url:c.url})})},E=()=>{delete l.value.articleId,delete l.value.replyArticles};return(n,e)=>{const v=h,c=Q,p=S,j=$,C=Y,K=h,y=z,B=D,M=F;return u(),s("div",null,[o("div",ee,[o("div",le,[i(c,{type:"danger",onClick:e[0]||(e[0]=t=>g("delete"))},{default:d(()=>[i(v,{icon:"ep:delete"}),e[11]||(e[11]=w(" \u5220\u9664\u5F53\u524D\u83DC\u5355 "))]),_:1})]),o("div",null,[e[12]||(e[12]=o("span",null,"\u83DC\u5355\u540D\u79F0\uFF1A",-1)),i(p,{class:"input_width",modelValue:a(l).name,"onUpdate:modelValue":e[1]||(e[1]=t=>a(l).name=t),placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u540D\u79F0",maxlength:n.isParent?4:7,clearable:""},null,8,["modelValue","maxlength"])]),a(A)?(u(),s("div",ae,[o("div",te,[e[13]||(e[13]=o("span",null,"\u83DC\u5355\u6807\u8BC6\uFF1A",-1)),i(p,{class:"input_width",modelValue:a(l).menuKey,"onUpdate:modelValue":e[2]||(e[2]=t=>a(l).menuKey=t),placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355 KEY",clearable:""},null,8,["modelValue"])]),o("div",ie,[e[14]||(e[14]=o("span",null,"\u83DC\u5355\u5185\u5BB9\uFF1A",-1)),i(C,{modelValue:a(l).type,"onUpdate:modelValue":e[3]||(e[3]=t=>a(l).type=t),clearable:"",placeholder:"\u8BF7\u9009\u62E9",class:"menu_option"},{default:d(()=>[(u(!0),s(N,null,O(a(Z),t=>(u(),k(j,{label:t.label,value:t.value,key:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),a(l).type==="view"?(u(),s("div",oe,[e[15]||(e[15]=o("span",null,"\u8DF3\u8F6C\u94FE\u63A5\uFF1A",-1)),i(p,{class:"input_width",modelValue:a(l).url,"onUpdate:modelValue":e[4]||(e[4]=t=>a(l).url=t),placeholder:"\u8BF7\u8F93\u5165\u94FE\u63A5",clearable:""},null,8,["modelValue"])])):r("",!0),a(l).type==="miniprogram"?(u(),s("div",ue,[o("div",ne,[e[16]||(e[16]=o("span",null,"\u5C0F\u7A0B\u5E8F\u7684 appid \uFF1A",-1)),i(p,{class:"input_width",modelValue:a(l).miniProgramAppId,"onUpdate:modelValue":e[5]||(e[5]=t=>a(l).miniProgramAppId=t),placeholder:"\u8BF7\u8F93\u5165\u5C0F\u7A0B\u5E8F\u7684appid",clearable:""},null,8,["modelValue"])]),o("div",se,[e[17]||(e[17]=o("span",null,"\u5C0F\u7A0B\u5E8F\u7684\u9875\u9762\u8DEF\u5F84\uFF1A",-1)),i(p,{class:"input_width",modelValue:a(l).miniProgramPagePath,"onUpdate:modelValue":e[6]||(e[6]=t=>a(l).miniProgramPagePath=t),placeholder:"\u8BF7\u8F93\u5165\u5C0F\u7A0B\u5E8F\u7684\u9875\u9762\u8DEF\u5F84\uFF0C\u5982\uFF1Apages/index",clearable:""},null,8,["modelValue"])]),o("div",de,[e[18]||(e[18]=o("span",null,"\u5C0F\u7A0B\u5E8F\u7684\u5907\u7528\u7F51\u9875\uFF1A",-1)),i(p,{class:"input_width",modelValue:a(l).url,"onUpdate:modelValue":e[7]||(e[7]=t=>a(l).url=t),placeholder:"\u4E0D\u652F\u6301\u5C0F\u7A0B\u5E8F\u7684\u8001\u7248\u672C\u5BA2\u6237\u7AEF\u5C06\u6253\u5F00\u672C\u7F51\u9875",clearable:""},null,8,["modelValue"])]),e[19]||(e[19]=o("p",{class:"blue"},"tips:\u9700\u8981\u548C\u516C\u4F17\u53F7\u8FDB\u884C\u5173\u8054\u624D\u53EF\u4EE5\u628A\u5C0F\u7A0B\u5E8F\u7ED1\u5B9A\u5E26\u5FAE\u4FE1\u83DC\u5355\u4E0A\u54DF\uFF01",-1))])):r("",!0),a(l).type==="article_view_limited"?(u(),s("div",ce,[i(y,null,{default:d(()=>[a(l)&&a(l).replyArticles?(u(),s("div",pe,[i(a(G),{articles:a(l).replyArticles},null,8,["articles"]),i(y,{class:"ope-row",justify:"center",align:"middle"},{default:d(()=>[i(c,{type:"danger",circle:"",onClick:E},{default:d(()=>[i(K,{icon:"ep:delete"})]),_:1})]),_:1})])):(u(),s("div",re,[i(y,{justify:"center"},{default:d(()=>[i(B,{span:24,style:{"text-align":"center"}},{default:d(()=>[i(c,{type:"success",onClick:e[8]||(e[8]=t=>m.value=!0)},{default:d(()=>[e[20]||(e[20]=w(" \u7D20\u6750\u5E93\u9009\u62E9 ")),i(v,{icon:"ep:circle-check"})]),_:1})]),_:1})]),_:1})])),i(M,{title:"\u9009\u62E9\u56FE\u6587",modelValue:a(m),"onUpdate:modelValue":e[9]||(e[9]=t=>T(m)?m.value=t:null),width:"80%","destroy-on-close":""},{default:d(()=>[i(a(J),{type:"news","account-id":V.accountId,onSelectMaterial:x},null,8,["account-id"])]),_:1},8,["modelValue"])]),_:1})])):r("",!0),a(l).type==="click"||a(l).type==="scancode_waitmsg"?(u(),s("div",me,[a(_)?(u(),k(a(q),{key:0,modelValue:a(l).reply,"onUpdate:modelValue":e[10]||(e[10]=t=>a(l).reply=t)},null,8,["modelValue"])):r("",!0)])):r("",!0)])):r("",!0)])])}}}),[["__scopeId","data-v-06a60c90"]]);export{ve as default};
