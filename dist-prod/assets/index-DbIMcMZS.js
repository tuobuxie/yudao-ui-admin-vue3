import{_ as j}from"./ContentWrap.vue_vue_type_script_setup_true_lang-BRGqERh7.js";import{e as D,u as R,_ as K,c as M}from"./index-B2urM1q-.js";import{u as S}from"./tagsView-DIbur9wp.js";import{_ as U}from"./UploadStep.vue_vue_type_script_setup_true_lang-CPDyGajK.js";import{_ as z}from"./SplitStep.vue_vue_type_script_setup_true_lang-BQbwPhOw.js";import{_ as A}from"./ProcessStep.vue_vue_type_script_setup_true_lang-BHFzDR7y.js";import{K as B}from"./index-BnPAUNWD.js";import{l as C,r,e as H,P,A as E,q as n,B as J,x as a,J as i,H as f,u as t,m,I as N,$,D as _,E as x,h as c,p as F,g as G}from"./form-create-_84fGzaM.js";import"./form-designer-DHHJWkD5.js";import"./index-BUi5Jgs2.js";const L={class:"mx-auto"},O={class:"absolute top-0 left-0 right-0 h-50px bg-white border-bottom z-10 flex items-center px-20px"},W={class:"w-200px flex items-center overflow-hidden"},Z={class:"ml-10px text-16px truncate"},Q={class:"flex-1 flex items-center justify-center h-full"},X={class:"w-400px flex items-center justify-between h-full"},Y={class:"text-16px font-bold whitespace-nowrap"},ee={class:"mt-50px"},le={key:0,class:"mx-auto w-560px"},ae={key:1,class:"mx-auto w-560px"},te={key:2,class:"mx-auto w-560px"},se=C({__name:"index",setup(re,{expose:V}){const{delView:I}=S(),p=D(),v=R(),g=r(),w=r(),y=r(),s=r(0),k=[{title:"\u4E0A\u4F20\u6587\u6863"},{title:"\u6587\u6863\u5206\u6BB5"},{title:"\u5904\u7406\u5E76\u5B8C\u6210"}],e=r({knowledgeId:void 0,id:void 0,segmentMaxTokens:500,list:[]});F("parent",G());const b=()=>{s.value<k.length-1&&s.value++},h=()=>{I(t(v.currentRoute)),v.push({name:"AiKnowledgeDocument",query:{knowledgeId:e.value.knowledgeId}})};return H(async()=>{await(async()=>{p.query.knowledgeId&&(e.value.knowledgeId=p.query.knowledgeId);const u=p.query.id;if(u){e.value.id=u;const l=await B.getKnowledgeDocument(u);e.value.segmentMaxTokens=l.segmentMaxTokens,e.value.list=[{id:l.id,name:l.name,url:l.url,segments:[]}],b()}})()}),P(()=>{g.value=null,w.value=null,y.value=null}),V({goToNextStep:b,goToPrevStep:()=>{s.value>0&&s.value--},handleBack:h}),(u,l)=>{const q=K,T=j;return n(),E(T,null,{default:J(()=>[a("div",L,[a("div",O,[a("div",W,[i(q,{icon:"ep:arrow-left",class:"cursor-pointer flex-shrink-0",onClick:h}),a("span",Z,f(t(e).id?"\u7F16\u8F91\u77E5\u8BC6\u5E93\u6587\u6863":"\u521B\u5EFA\u77E5\u8BC6\u5E93\u6587\u6863"),1)]),a("div",Q,[a("div",X,[(n(),m(N,null,$(k,(o,d)=>a("div",{key:d,class:_(["flex items-center mx-15px relative h-full",[t(s)===d?"text-[#3473ff] border-[#3473ff] border-b-2 border-b-solid":"text-gray-500"]])},[a("div",{class:_(["w-28px h-28px rounded-full flex items-center justify-center mr-8px border-2 border-solid text-15px",[t(s)===d?"bg-[#3473ff] text-white border-[#3473ff]":"border-gray-300 bg-white text-gray-500"]])},f(d+1),3),a("span",Y,f(o.title),1)],2)),64))])]),l[3]||(l[3]=a("div",{class:"w-200px flex items-center justify-end gap-2"},null,-1))]),a("div",ee,[t(s)===0?(n(),m("div",le,[i(U,{modelValue:t(e),"onUpdate:modelValue":l[0]||(l[0]=o=>c(e)?e.value=o:null),ref_key:"uploadDocumentRef",ref:g},null,8,["modelValue"])])):x("",!0),t(s)===1?(n(),m("div",ae,[i(z,{modelValue:t(e),"onUpdate:modelValue":l[1]||(l[1]=o=>c(e)?e.value=o:null),ref_key:"documentSegmentRef",ref:w},null,8,["modelValue"])])):x("",!0),t(s)===2?(n(),m("div",te,[i(A,{modelValue:t(e),"onUpdate:modelValue":l[2]||(l[2]=o=>c(e)?e.value=o:null),ref_key:"processCompleteRef",ref:y},null,8,["modelValue"])])):x("",!0)])])]),_:1})}}}),oe=M(se,[["__scopeId","data-v-b04e938d"]]);export{oe as default};
