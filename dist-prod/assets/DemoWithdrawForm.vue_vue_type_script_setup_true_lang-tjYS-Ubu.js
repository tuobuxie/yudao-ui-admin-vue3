import{X as y,a as G,d as J,aX as K}from"./index-DzK2S43K.js";import{_ as R}from"./Dialog.vue_vue_type_style_index_0_lang-D3YOFsHs.js";import{h as S,aj as W,k as z,s as E,u as H,l as I,ak as L,f as M}from"./form-designer-DHHJWkD5.js";import{l as O,r as d,j as P,A as w,q as j,B as t,C as Q,u as a,J as u,G as c,h as T}from"./form-create-_84fGzaM.js";const Y=m=>y.get({url:"/pay/demo-withdraw/page",params:m}),Z=m=>y.post({url:"/pay/demo-withdraw/transfer",params:{id:m}}),$=O({__name:"DemoWithdrawForm",emits:["success"],setup(m,{expose:A,emit:U}){const{t:_}=G(),k=J(),o=d(!1),V=d(""),i=d(!1),b=d(""),l=d({subject:"",price:0,type:1,userName:"",userAccount:""}),x=P({subject:[{required:!0,message:"\u63D0\u73B0\u6807\u9898\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],price:[{required:!0,message:"\u63D0\u73B0\u91D1\u989D\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],type:[{required:!0,message:"\u63D0\u73B0\u7C7B\u578B\u4E0D\u80FD\u4E3A\u7A7A",trigger:"change"}],userAccount:[{required:!0,message:"\u6536\u6B3E\u4EBA\u8D26\u53F7\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),n=d();A({open:async s=>{o.value=!0,V.value=_("action."+s),b.value=s,g()},close:async()=>{o.value=!1,g()}});const q=U,N=async()=>{if(n&&await n.value.validate()){i.value=!0;try{const s={...l.value};s.price=K(s.price),b.value==="create"&&(await(e=>y.post({url:"/pay/demo-withdraw/create",data:e}))(s),k.success(_("common.createSuccess"))),o.value=!1,q("success")}finally{i.value=!1}}},g=()=>{var s;l.value={subject:"",price:0,type:1,userName:"",userAccount:""},(s=n.value)==null||s.resetFields()};return(s,e)=>{const f=z,p=W,v=H,C=E,F=I,X=S,h=M,B=R,D=L;return j(),w(B,{title:a(V),modelValue:a(o),"onUpdate:modelValue":e[6]||(e[6]=r=>T(o)?o.value=r:null),width:"800px"},{footer:t(()=>[u(h,{onClick:N,type:"primary",disabled:a(i)},{default:t(()=>e[10]||(e[10]=[c("\u786E \u5B9A")])),_:1},8,["disabled"]),u(h,{onClick:e[5]||(e[5]=r=>o.value=!1)},{default:t(()=>e[11]||(e[11]=[c("\u53D6 \u6D88")])),_:1})]),default:t(()=>[Q((j(),w(X,{ref_key:"formRef",ref:n,model:a(l),rules:a(x),"label-width":"120px"},{default:t(()=>[u(p,{label:"\u63D0\u73B0\u6807\u9898",prop:"subject"},{default:t(()=>[u(f,{modelValue:a(l).subject,"onUpdate:modelValue":e[0]||(e[0]=r=>a(l).subject=r),placeholder:"\u8BF7\u8F93\u5165\u63D0\u73B0\u6807\u9898"},null,8,["modelValue"])]),_:1}),u(p,{label:"\u63D0\u73B0\u7C7B\u578B",prop:"type"},{default:t(()=>[u(C,{modelValue:a(l).type,"onUpdate:modelValue":e[1]||(e[1]=r=>a(l).type=r)},{default:t(()=>[u(v,{value:1},{default:t(()=>e[7]||(e[7]=[c("\u652F\u4ED8\u5B9D")])),_:1}),u(v,{value:2},{default:t(()=>e[8]||(e[8]=[c("\u5FAE\u4FE1\u4F59\u989D")])),_:1}),u(v,{value:3},{default:t(()=>e[9]||(e[9]=[c("\u94B1\u5305")])),_:1})]),_:1},8,["modelValue"])]),_:1}),u(p,{label:"\u63D0\u73B0\u91D1\u989D",prop:"price"},{default:t(()=>[u(F,{modelValue:a(l).price,"onUpdate:modelValue":e[2]||(e[2]=r=>a(l).price=r),min:.01,precision:2,step:.01,placeholder:"\u8BF7\u8F93\u5165\u63D0\u73B0\u91D1\u989D",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),u(p,{label:"\u6536\u6B3E\u4EBA\u8D26\u53F7",prop:"userAccount"},{default:t(()=>[u(f,{modelValue:a(l).userAccount,"onUpdate:modelValue":e[3]||(e[3]=r=>a(l).userAccount=r),placeholder:l.value.type===1?"\u8BF7\u8F93\u5165\u652F\u4ED8\u5B9D\u8D26\u53F7":l.value.type===2?"\u8BF7\u8F93\u5165\u5FAE\u4FE1 openid":l.value.type===3?"\u8BF7\u8F93\u5165\u94B1\u5305\u7F16\u53F7":"\u8BF7\u8F93\u5165\u6536\u6B3E\u4EBA\u8D26\u53F7"},null,8,["modelValue","placeholder"])]),_:1}),u(p,{label:"\u6536\u6B3E\u4EBA\u59D3\u540D",prop:"userName"},{default:t(()=>[u(f,{modelValue:a(l).userName,"onUpdate:modelValue":e[4]||(e[4]=r=>a(l).userName=r),placeholder:"\u8BF7\u8F93\u5165\u6536\u6B3E\u4EBA\u59D3\u540D"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[D,a(i)]])]),_:1},8,["title","modelValue"])}}});export{$ as _,Y as g,Z as t};
