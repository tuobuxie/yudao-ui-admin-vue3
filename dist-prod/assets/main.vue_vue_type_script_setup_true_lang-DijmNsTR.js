import{d as g,u as w}from"./index-DmQdxAiK.js";import{f as x}from"./index-W8edep2c.js";import{u as V}from"./tagsView-CQDzb46U.js";import{Q as _,x as A}from"./form-designer-DHHJWkD5.js";import{l as b,j as y,r as j,e as k,A as u,q as t,B as q,m as B,I as C,$ as I,u as m}from"./form-create-_84fGzaM.js";const M=b({name:"WxAccountSelect",__name:"main",emits:["change"],setup(Q,{emit:r}){const d=g(),{delView:c}=V(),{push:p,currentRoute:f}=w(),a=y({id:-1,name:""}),e=j([]),i=r,v=o=>{const n=e.value.find(s=>s.id===o);a.id&&(a.name=n?n.name:"",i("change",a.id,a.name))};return k(()=>{(async()=>{if(e.value=await x(),e.value.length==0)return d.error("\u672A\u914D\u7F6E\u516C\u4F17\u53F7\uFF0C\u8BF7\u5728\u3010\u516C\u4F17\u53F7\u7BA1\u7406 -> \u8D26\u53F7\u7BA1\u7406\u3011\u83DC\u5355\uFF0C\u8FDB\u884C\u914D\u7F6E"),c(m(f)),void await p({name:"MpAccount"});e.value.length>0&&(a.id=e.value[0].id,a.id&&(a.name=e.value[0].name,i("change",a.id,a.name)))})()}),(o,n)=>{const s=_,h=A;return t(),u(h,{modelValue:m(a).id,"onUpdate:modelValue":n[0]||(n[0]=l=>m(a).id=l),placeholder:"\u8BF7\u9009\u62E9\u516C\u4F17\u53F7",class:"!w-240px",onChange:v},{default:q(()=>[(t(!0),B(C,null,I(m(e),l=>(t(),u(s,{key:l.id,label:l.name,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])}}});export{M as _};
