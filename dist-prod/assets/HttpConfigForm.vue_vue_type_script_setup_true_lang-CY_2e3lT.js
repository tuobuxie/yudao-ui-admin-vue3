import{aE as c,N as _}from"./index-DzK2S43K.js";import{I as y}from"./index-C-rYU1yo.js";import{_ as v}from"./KeyValueEditor.vue_vue_type_script_setup_true_lang-hWvwwUvu.js";import{aj as T,k as g,x as E,Q as U}from"./form-designer-DHHJWkD5.js";import{l as x,r as h,c as P,b as q,e as S,m as H,q as O,I as j,J as l,B as d,u as t,h as V}from"./form-create-_84fGzaM.js";const C=x({name:"HttpConfigForm",__name:"HttpConfigForm",props:{modelValue:{}},emits:["update:modelValue"],setup(b,{emit:f}){const e=c(b,"modelValue",f),r=h("http://"),o=h(""),i=P(()=>o.value?r.value+o.value:"");return q([r,o],()=>{e.value.url=i.value}),S(()=>{_(e.value)?e.value={type:y.HTTP+"",url:"",method:"POST",headers:{},query:{},body:""}:e.value.url&&(e.value.url.startsWith("https://")?(r.value="https://",o.value=e.value.url.substring(8)):e.value.url.startsWith("http://")?(r.value="http://",o.value=e.value.url.substring(7)):o.value=e.value.url)}),(D,a)=>{const p=U,m=E,n=g,s=T;return O(),H(j,null,[l(s,{label:"\u8BF7\u6C42\u5730\u5740",prop:"config.url"},{default:d(()=>[l(n,{modelValue:t(o),"onUpdate:modelValue":a[1]||(a[1]=u=>V(o)?o.value=u:null),placeholder:"\u8BF7\u8F93\u5165\u8BF7\u6C42\u5730\u5740"},{prepend:d(()=>[l(m,{modelValue:t(r),"onUpdate:modelValue":a[0]||(a[0]=u=>V(r)?r.value=u:null),placeholder:"Select",style:{width:"115px"}},{default:d(()=>[l(p,{label:"http://",value:"http://"}),l(p,{label:"https://",value:"https://"})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"\u8BF7\u6C42\u65B9\u6CD5",prop:"config.method"},{default:d(()=>[l(m,{modelValue:t(e).method,"onUpdate:modelValue":a[2]||(a[2]=u=>t(e).method=u),placeholder:"\u8BF7\u9009\u62E9\u8BF7\u6C42\u65B9\u6CD5"},{default:d(()=>[l(p,{label:"GET",value:"GET"}),l(p,{label:"POST",value:"POST"}),l(p,{label:"PUT",value:"PUT"}),l(p,{label:"DELETE",value:"DELETE"})]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"\u8BF7\u6C42\u5934",prop:"config.headers"},{default:d(()=>[l(v,{modelValue:t(e).headers,"onUpdate:modelValue":a[3]||(a[3]=u=>t(e).headers=u),"add-button-text":"\u6DFB\u52A0\u8BF7\u6C42\u5934"},null,8,["modelValue"])]),_:1}),l(s,{label:"\u8BF7\u6C42\u53C2\u6570",prop:"config.query"},{default:d(()=>[l(v,{modelValue:t(e).query,"onUpdate:modelValue":a[4]||(a[4]=u=>t(e).query=u),"add-button-text":"\u6DFB\u52A0\u53C2\u6570"},null,8,["modelValue"])]),_:1}),l(s,{label:"\u8BF7\u6C42\u4F53",prop:"config.body"},{default:d(()=>[l(n,{modelValue:t(e).body,"onUpdate:modelValue":a[5]||(a[5]=u=>t(e).body=u),placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9",type:"textarea"},null,8,["modelValue"])]),_:1})],64)}}});export{C as _};
