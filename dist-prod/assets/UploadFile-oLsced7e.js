import{d as I,c as b}from"./index-B2urM1q-.js";import{b as U,a as v,H as x,U as h}from"./upload-_g5BQ_DM.js";import{U as l}from"./useUpload-B1nxWCrM.js";import{f as j,z as q}from"./form-designer-DHHJWkD5.js";import{l as z,i as A,r as B,j as E,A as $,q as F,B as o,J as G,G as H,x as J,t as S,u as t}from"./form-create-_84fGzaM.js";const k={class:"el-upload__tip",style:{"margin-left":"5px"}},w=b(z({__name:"UploadFile",props:{type:{}},emits:["uploaded"],setup(p,{emit:d}){const e=I(),u=p,m=A("accountId"),r=B([]),n=d,s=E({type:l.Image,title:"",introduction:"",accountId:m}),c=u.type===l.Image?U:v,f=a=>{if(a.code!==0)return e.alertError("\u4E0A\u4F20\u51FA\u9519\uFF1A"+a.msg),!1;r.value=[],s.title="",s.introduction="",e.notifySuccess("\u4E0A\u4F20\u6210\u529F"),n("uploaded")},_=a=>e.error("\u4E0A\u4F20\u5931\u8D25: "+a.message);return(a,i)=>{const y=j,g=q;return F(),$(g,{action:t(h),headers:t(x),multiple:"",limit:1,"file-list":t(r),data:t(s),"on-error":_,"before-upload":t(c),"on-success":f},{tip:o(()=>[J("span",k,[S(a.$slots,"default",{},void 0,!0)])]),default:o(()=>[G(y,{type:"primary",plain:""},{default:o(()=>i[0]||(i[0]=[H(" \u70B9\u51FB\u4E0A\u4F20 ")])),_:1})]),_:3},8,["action","headers","file-list","data","before-upload"])}}}),[["__scopeId","data-v-bd722126"]]);export{w as default};
