import{p as P,d as g,h as q,D as A,av as N}from"./index-DzK2S43K.js";import{g as O}from"./index-CD8Uo_8G.js";import{D as S}from"./constants-C3gLHYOK.js";import{r as n}from"./formRules-CLH8W1j7.js";import{h as U,q as Y,w as B,aj as G,Q as H,x as J}from"./form-designer-DHHJWkD5.js";import{l as L,r as c,j as T,b as Q,e as X,A as o,q as r,u as e,B as d,J as m,E as $,m as b,$ as _,G as z,H as C,I as D}from"./form-create-_84fGzaM.js";const K=L({name:"ProductDeliveryForm",__name:"DeliveryForm",props:{propFormData:{type:Object,default:()=>{}},isDetail:P.bool.def(!1)},emits:["update:activeName"],setup(p,{expose:w,emit:E}){const I=g(),u=p,i=c(),l=T({deliveryTypes:[],deliveryTemplateId:void 0}),V=T({deliveryTypes:[n],deliveryTemplateId:[n]});Q(()=>u.propFormData,s=>{s&&N(l,s)},{immediate:!0});const h=E;w({validate:async()=>{var s;if(i)try{await((s=e(i))==null?void 0:s.validate()),Object.assign(u.propFormData,l)}catch(t){throw I.error("\u3010\u7269\u6D41\u8BBE\u7F6E\u3011\u4E0D\u5B8C\u5584\uFF0C\u8BF7\u586B\u5199\u76F8\u5173\u4FE1\u606F"),h("update:activeName","delivery"),t}}});const y=c([]);return X(async()=>{y.value=await O()}),(s,t)=>{const F=B,j=Y,v=G,k=H,x=J,R=U;return r(),o(R,{ref_key:"formRef",ref:i,model:e(l),rules:e(V),"label-width":"120px",disabled:p.isDetail},{default:d(()=>{var f;return[m(v,{label:"\u914D\u9001\u65B9\u5F0F",prop:"deliveryTypes"},{default:d(()=>[m(j,{modelValue:e(l).deliveryTypes,"onUpdate:modelValue":t[0]||(t[0]=a=>e(l).deliveryTypes=a),class:"w-80"},{default:d(()=>[(r(!0),b(D,null,_(e(q)(e(A).TRADE_DELIVERY_TYPE),a=>(r(),o(F,{key:a.value,value:a.value},{default:d(()=>[z(C(a.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),(f=e(l).deliveryTypes)!=null&&f.includes(e(S).EXPRESS.type)?(r(),o(v,{key:0,label:"\u8FD0\u8D39\u6A21\u677F",prop:"deliveryTemplateId"},{default:d(()=>[m(x,{placeholder:"\u8BF7\u9009\u62E9\u8FD0\u8D39\u6A21\u677F",modelValue:e(l).deliveryTemplateId,"onUpdate:modelValue":t[1]||(t[1]=a=>e(l).deliveryTemplateId=a),class:"w-80"},{default:d(()=>[(r(!0),b(D,null,_(e(y),a=>(r(),o(k,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):$("",!0)]}),_:1},8,["model","rules","disabled"])}}});export{K as _};
