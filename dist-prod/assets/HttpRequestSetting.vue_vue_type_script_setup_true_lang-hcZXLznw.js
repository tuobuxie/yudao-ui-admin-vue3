import{_ as P}from"./index-B2urM1q-.js";import{J as R,K as U}from"./consts-CvaDWb4S.js";import{g as L,i as X}from"./node-DzBbPtU2.js";import{aj as A,k as O,x as S,Q as M,f as z,R as B}from"./form-designer-DHHJWkD5.js";import{l as j,m as i,q as u,I as b,J as l,B as t,$ as V,x as m,u as s,A as f,E as q,G as I,a5 as J,b as F}from"./form-create-_84fGzaM.js";const G={class:"mr-2"},K={class:"mr-2"},Q={class:"mr-2"},T={class:"mr-1 flex items-center"},N={class:"mr-2"},W={class:"mr-2"},Y={class:"mr-2"},Z={class:"mr-1 flex items-center"},D=j({name:"HttpRequestParamSetting",__name:"HttpRequestParamSetting",props:{header:{type:Array,required:!1,default:()=>[]},body:{type:Array,required:!1,default:()=>[]},bind:{type:String,required:!0}},setup(p){const v=p,$=L(),y=c=>{c.value=""},w=c=>{c.push({key:"",type:U.FIXED_VALUE,value:""})},C=(c,d)=>{c.splice(d,1)};return(c,d)=>{const g=O,o=A,_=M,k=S,h=P,x=z;return u(),i(b,null,[l(o,{"label-position":"top",label:"\u8BF7\u6C42\u5934"},{default:t(()=>[(u(!0),i(b,null,V(v.header,(a,r)=>(u(),i("div",{class:"flex pb-4",key:r},[m("div",G,[l(o,{prop:`${p.bind}.header.${r}.key`,rules:{required:!0,message:"\u53C2\u6570\u540D\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}},{default:t(()=>[l(g,{modelValue:a.key,"onUpdate:modelValue":e=>a.key=e,style:{width:"160px"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),m("div",K,[l(o,null,{default:t(()=>[l(k,{modelValue:a.type,"onUpdate:modelValue":e=>a.type=e,style:{width:"160px"},onChange:e=>y(a)},{default:t(()=>[(u(!0),i(b,null,V(s(R),e=>(u(),f(_,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)]),m("div",Q,[l(o,{prop:`${p.bind}.header.${r}.value`,rules:{required:!0,message:"\u53C2\u6570\u503C\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}},{default:t(()=>[a.type===s(U).FIXED_VALUE?(u(),f(g,{key:0,modelValue:a.value,"onUpdate:modelValue":e=>a.value=e,style:{width:"200px"}},null,8,["modelValue","onUpdate:modelValue"])):q("",!0)]),_:2},1032,["prop"]),l(o,{prop:`${p.bind}.header.${r}.value`,rules:{required:!0,message:"\u53C2\u6570\u503C\u4E0D\u80FD\u4E3A\u7A7A",trigger:"change"}},{default:t(()=>[a.type===s(U).FROM_FORM?(u(),f(k,{key:0,modelValue:a.value,"onUpdate:modelValue":e=>a.value=e,style:{width:"200px"}},{default:t(()=>[(u(!0),i(b,null,V(s($),(e,n)=>(u(),f(_,{key:n,label:e.title,value:e.field,disabled:!e.required},null,8,["label","value","disabled"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):q("",!0)]),_:2},1032,["prop"])]),m("div",T,[l(h,{icon:"ep:delete",size:18,onClick:e=>C(v.header,r)},null,8,["onClick"])])]))),128)),l(x,{type:"primary",text:"",onClick:d[0]||(d[0]=a=>w(v.header))},{default:t(()=>[l(h,{icon:"ep:plus",class:"mr-5px"}),d[2]||(d[2]=I("\u6DFB\u52A0\u4E00\u884C "))]),_:1})]),_:1}),l(o,{"label-position":"top",label:"\u8BF7\u6C42\u4F53"},{default:t(()=>[(u(!0),i(b,null,V(v.body,(a,r)=>(u(),i("div",{class:"flex pb-4",key:r},[m("div",N,[l(o,{prop:`${p.bind}.body.${r}.key`,rules:{required:!0,message:"\u53C2\u6570\u540D\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}},{default:t(()=>[l(g,{modelValue:a.key,"onUpdate:modelValue":e=>a.key=e,style:{width:"160px"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),m("div",W,[l(o,null,{default:t(()=>[l(k,{modelValue:a.type,"onUpdate:modelValue":e=>a.type=e,style:{width:"160px"},onChange:e=>y(a)},{default:t(()=>[(u(!0),i(b,null,V(s(R),e=>(u(),f(_,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)]),m("div",Y,[l(o,{prop:`${p.bind}.body.${r}.value`,rules:{required:!0,message:"\u53C2\u6570\u503C\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}},{default:t(()=>[a.type===s(U).FIXED_VALUE?(u(),f(g,{key:0,modelValue:a.value,"onUpdate:modelValue":e=>a.value=e,style:{width:"200px"}},null,8,["modelValue","onUpdate:modelValue"])):q("",!0)]),_:2},1032,["prop"]),l(o,{prop:`${p.bind}.body.${r}.value`,rules:{required:!0,message:"\u53C2\u6570\u503C\u4E0D\u80FD\u4E3A\u7A7A",trigger:"change"}},{default:t(()=>[a.type===s(U).FROM_FORM?(u(),f(k,{key:0,modelValue:a.value,"onUpdate:modelValue":e=>a.value=e,style:{width:"200px"}},{default:t(()=>[(u(!0),i(b,null,V(s($),(e,n)=>(u(),f(_,{key:n,label:e.title,value:e.field,disabled:!e.required},null,8,["label","value","disabled"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):q("",!0)]),_:2},1032,["prop"])]),m("div",Z,[l(h,{icon:"ep:delete",size:18,onClick:e=>C(v.body,r)},null,8,["onClick"])])]))),128)),l(x,{type:"primary",text:"",onClick:d[1]||(d[1]=a=>w(v.body))},{default:t(()=>[l(h,{icon:"ep:plus",class:"mr-5px"}),d[3]||(d[3]=I("\u6DFB\u52A0\u4E00\u884C "))]),_:1})]),_:1})],64)}}}),ee={key:0},le={class:"mr-2"},ae={class:"mr-2"},te={class:"mr-1 pt-1 cursor-pointer"},ue={class:"pt-1"},re=j({__name:"HttpRequestSetting",props:{setting:{type:Object,required:!0},responseEnable:{type:Boolean,required:!0},formItemPrefix:{type:String,required:!0}},emits:["update:setting"],setup(p,{emit:v}){const $=p,{setting:y}=J($),w=v;F(()=>y,c=>{w("update:setting",c)});const C=X();return(c,d)=>{const g=B,o=A,_=O,k=M,h=S,x=P,a=z;return u(),i(b,null,[l(o,null,{default:t(()=>[l(g,{title:"\u4EC5\u652F\u6301 POST \u8BF7\u6C42\uFF0C\u4EE5\u8BF7\u6C42\u4F53\u65B9\u5F0F\u63A5\u6536\u53C2\u6570",type:"warning","show-icon":"",closable:!1})]),_:1}),l(o,{"label-position":"top",label:"\u8BF7\u6C42\u5730\u5740",prop:`${p.formItemPrefix}.url`,rules:{required:!0,message:"\u8BF7\u6C42\u5730\u5740\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}},{default:t(()=>[l(_,{modelValue:s(y).url,"onUpdate:modelValue":d[0]||(d[0]=r=>s(y).url=r)},null,8,["modelValue"])]),_:1},8,["prop"]),l(D,{header:s(y).header,body:s(y).body,bind:p.formItemPrefix},null,8,["header","body","bind"]),p.responseEnable?(u(),i("div",ee,[l(o,{label:"\u8FD4\u56DE\u503C","label-position":"top"},{default:t(()=>[l(g,{title:"\u901A\u8FC7\u8BF7\u6C42\u8FD4\u56DE\u503C, \u53EF\u4EE5\u4FEE\u6539\u6D41\u7A0B\u8868\u5355\u7684\u503C",type:"warning","show-icon":"",closable:!1})]),_:1}),l(o,null,{default:t(()=>[(u(!0),i(b,null,V(s(y).response,(r,e)=>(u(),i("div",{class:"flex pt-4",key:e},[m("div",le,[l(o,{prop:`${p.formItemPrefix}.response.${e}.key`,rules:{required:!0,message:"\u8868\u5355\u5B57\u6BB5\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}},{default:t(()=>[l(h,{class:"w-160px!",modelValue:r.key,"onUpdate:modelValue":n=>r.key=n,placeholder:"\u8BF7\u9009\u62E9\u8868\u5355\u5B57\u6BB5"},{default:t(()=>[(u(!0),i(b,null,V(s(C),(n,E)=>(u(),f(k,{key:E,label:n.title,value:n.field,disabled:!n.required},null,8,["label","value","disabled"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),m("div",ae,[l(o,{prop:`${p.formItemPrefix}.response.${e}.value`,rules:{required:!0,message:"\u8BF7\u6C42\u8FD4\u56DE\u5B57\u6BB5\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}},{default:t(()=>[l(_,{class:"w-160px",modelValue:r.value,"onUpdate:modelValue":n=>r.value=n,placeholder:"\u8BF7\u6C42\u8FD4\u56DE\u5B57\u6BB5"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),m("div",te,[l(x,{icon:"ep:delete",size:18,onClick:n=>((E,H)=>{E.splice(H,1)})(s(y).response,e)},null,8,["onClick"])])]))),128))]),_:1}),m("div",ue,[l(a,{type:"primary",text:"",onClick:d[1]||(d[1]=r=>{s(y).response.push({key:"",value:""})})},{default:t(()=>[l(x,{icon:"ep:plus",class:"mr-5px"}),d[2]||(d[2]=I("\u6DFB\u52A0\u4E00\u884C "))]),_:1})])])):q("",!0)],64)}}});export{D as _,re as a};
