import{a as b,d as _}from"./index-B2urM1q-.js";import{_ as V}from"./XButton-B6xfpFoO.js";import{I as i}from"./InputPassword-D9o0gAMb.js";import{a as q}from"./profile-C27KHvLe.js";import{aj as v,h as y}from"./form-designer-DHHJWkD5.js";import{l as R,r as h,j as p,A as k,q as x,B as w,J as a,u as e}from"./form-create-_84fGzaM.js";const M=R({name:"ResetPwd",__name:"ResetPwd",setup(U){const{t:r}=b(),u=_(),m=h(),o=p({oldPassword:"",newPassword:"",confirmPassword:""}),f=p({oldPassword:[{required:!0,message:r("profile.password.oldPwdMsg"),trigger:"blur"},{min:4,max:16,message:r("profile.password.pwdRules"),trigger:"blur"}],newPassword:[{required:!0,message:r("profile.password.newPwdMsg"),trigger:"blur"},{min:4,max:16,message:r("profile.password.pwdRules"),trigger:"blur"}],confirmPassword:[{required:!0,message:r("profile.password.cfPwdMsg"),trigger:"blur"},{required:!0,validator:(P,s,l)=>{o.newPassword!==s?l(new Error(r("profile.password.diffPwd"))):l()},trigger:"blur"}]});return(P,s)=>{const l=v,n=V,g=y;return x(),k(g,{ref_key:"formRef",ref:m,model:e(o),rules:e(f),"label-width":200},{default:w(()=>[a(l,{label:e(r)("profile.password.oldPassword"),prop:"oldPassword"},{default:w(()=>[a(e(i),{modelValue:e(o).oldPassword,"onUpdate:modelValue":s[0]||(s[0]=d=>e(o).oldPassword=d)},null,8,["modelValue"])]),_:1},8,["label"]),a(l,{label:e(r)("profile.password.newPassword"),prop:"newPassword"},{default:w(()=>[a(e(i),{modelValue:e(o).newPassword,"onUpdate:modelValue":s[1]||(s[1]=d=>e(o).newPassword=d),strength:""},null,8,["modelValue"])]),_:1},8,["label"]),a(l,{label:e(r)("profile.password.confirmPassword"),prop:"confirmPassword"},{default:w(()=>[a(e(i),{modelValue:e(o).confirmPassword,"onUpdate:modelValue":s[2]||(s[2]=d=>e(o).confirmPassword=d),strength:""},null,8,["modelValue"])]),_:1},8,["label"]),a(l,null,{default:w(()=>[a(n,{title:e(r)("common.save"),type:"primary",onClick:s[3]||(s[3]=d=>{var t;(t=e(m))&&t.validate(async c=>{c&&(await q(o.oldPassword,o.newPassword),u.success(r("common.updateSuccess")))})})},null,8,["title"]),a(n,{title:e(r)("common.reset"),type:"danger",onClick:s[4]||(s[4]=d=>{var t;(t=e(m))&&t.resetFields()})},null,8,["title"])]),_:1})]),_:1},8,["model","rules"])}}});export{M as _};
