import{p as c,bh as k,S as v,aE as h,_ as V}from"./index-DzK2S43K.js";import{V as w}from"./vuedraggable.umd-DPA_Ddu8.js";import{a7 as C,o as I,f as j,K as q}from"./form-designer-DHHJWkD5.js";import{l as E,m as $,q as p,I as z,J as e,B as l,G as A,u as i,x as r,t as B,A as D,E as G}from"./form-create-_84fGzaM.js";const J={class:"mb-4px flex flex-col gap-4px border border-gray-2 border-rounded rounded border-solid p-8px"},K={class:"m--8px m-b-4px flex flex-row items-center justify-between p-8px",style:{"background-color":"var(--app-content-bg-color)"}},R=E({name:"Draggable",__name:"index",props:{modelValue:v().isRequired,emptyItem:k().def({}),limit:c.number.def(0),min:c.number.def(1)},emits:["update:modelValue"],setup(a,{emit:u}){const d=a,t=h(d,"modelValue",u),f=()=>t.value.push(q(d.emptyItem||{}));return(x,s)=>{const b=C,o=V,n=I,g=j;return p(),$(z,null,[e(b,{type:"info",size:"small"},{default:l(()=>s[0]||(s[0]=[A(" \u62D6\u52A8\u5DE6\u4E0A\u89D2\u7684\u5C0F\u5706\u70B9\u53EF\u5BF9\u5176\u6392\u5E8F ")])),_:1}),e(i(w),{list:i(t),"force-fallback":!1,animation:200,handle:".drag-icon",class:"m-t-8px","item-key":"index"},{item:l(({element:y,index:m})=>[r("div",J,[r("div",K,[e(n,{content:"\u62D6\u52A8\u6392\u5E8F"},{default:l(()=>[e(o,{icon:"ic:round-drag-indicator",class:"drag-icon cursor-move",style:{color:"#8a909c"}})]),_:1}),e(n,{content:"\u5220\u9664"},{default:l(()=>[i(t).length>a.min?(p(),D(o,{key:0,icon:"ep:delete",class:"cursor-pointer text-red-5",onClick:S=>(_=>t.value.splice(_,1))(m)},null,8,["onClick"])):G("",!0)]),_:2},1024)]),B(x.$slots,"default",{element:y,index:m})])]),_:3},8,["list"]),e(n,{disabled:a.limit<1,content:`\u6700\u591A\u6DFB\u52A0${a.limit}\u4E2A`},{default:l(()=>[e(g,{type:"primary",plain:"",class:"m-t-4px w-full",disabled:a.limit>0&&i(t).length>=a.limit,onClick:f},{default:l(()=>[e(o,{icon:"ep:plus"}),s[1]||(s[1]=r("span",null,"\u6DFB\u52A0",-1))]),_:1},8,["disabled"])]),_:1},8,["disabled","content"])],64)}}});export{R as _};
