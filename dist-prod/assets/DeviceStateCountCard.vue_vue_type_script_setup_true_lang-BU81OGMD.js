import"./index-B2urM1q-.js";import{aU as _,i as D,j as k,ad as b}from"./form-designer-DHHJWkD5.js";import{l as O,r as m,c as j,b as A,e as S,A as y,q as i,B as l,m as g,u as C,J as r,x as e,n as B}from"./form-create-_84fGzaM.js";import{Y as E,aj as L,ag as R,w as q}from"./echarts-BmJPRACc.js";const I={key:0,class:"h-[240px] flex justify-center items-center"},z={key:1,class:"h-[240px] flex justify-center items-center"},F=O({name:"DeviceStateCountCard",__name:"DeviceStateCountCard",props:{statsData:{type:Object,required:!0},loading:{type:Boolean,default:!1}},setup(c){const a=c,o=m(),d=m(),f=m(),u=j(()=>!!a.statsData&&a.statsData.deviceCount!==-1),v=(p,t,n)=>{if(p){E([L,R]);try{const s=q(p);return s.setOption({series:[{type:"gauge",startAngle:360,endAngle:0,min:0,max:a.statsData.deviceCount||100,progress:{show:!0,width:12,itemStyle:{color:n}},axisLine:{lineStyle:{width:12,color:[[1,"#E5E7EB"]]}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1},pointer:{show:!1},anchor:{show:!1},title:{show:!1},detail:{valueAnimation:!0,fontSize:24,fontWeight:"bold",fontFamily:"Inter, sans-serif",color:n,offsetCenter:[0,"0"],formatter:x=>`${x} \u4E2A`},data:[{value:t}]}]}),s}catch{return null}}},h=()=>{u.value&&B(()=>{o.value&&v(o.value,a.statsData.deviceOnlineCount,"#0d9"),d.value&&v(d.value,a.statsData.deviceOfflineCount,"#f50"),f.value&&v(f.value,a.statsData.deviceInactiveCount,"#05b")})};return A(()=>a.statsData,()=>{h()},{deep:!0}),S(()=>{h()}),(p,t)=>{const n=_,s=k,x=D,w=b;return i(),y(w,{class:"chart-card",shadow:"never",loading:c.loading},{header:l(()=>t[0]||(t[0]=[e("div",{class:"flex items-center"},[e("span",{class:"text-base font-medium text-gray-600"},"\u8BBE\u5907\u72B6\u6001\u7EDF\u8BA1")],-1)])),default:l(()=>[c.loading&&!C(u)?(i(),g("div",I,[r(n,{description:"\u52A0\u8F7D\u4E2D..."})])):C(u)?(i(),y(x,{key:2,class:"h-[240px]"},{default:l(()=>[r(s,{span:8,class:"flex flex-col items-center"},{default:l(()=>[e("div",{ref_key:"deviceOnlineCountChartRef",ref:o,class:"h-[160px] w-full"},null,512),t[1]||(t[1]=e("div",{class:"text-center mt-2"},[e("span",{class:"text-sm text-gray-600"},"\u5728\u7EBF\u8BBE\u5907")],-1))]),_:1}),r(s,{span:8,class:"flex flex-col items-center"},{default:l(()=>[e("div",{ref_key:"deviceOfflineChartRef",ref:d,class:"h-[160px] w-full"},null,512),t[2]||(t[2]=e("div",{class:"text-center mt-2"},[e("span",{class:"text-sm text-gray-600"},"\u79BB\u7EBF\u8BBE\u5907")],-1))]),_:1}),r(s,{span:8,class:"flex flex-col items-center"},{default:l(()=>[e("div",{ref_key:"deviceActiveChartRef",ref:f,class:"h-[160px] w-full"},null,512),t[3]||(t[3]=e("div",{class:"text-center mt-2"},[e("span",{class:"text-sm text-gray-600"},"\u5F85\u6FC0\u6D3B\u8BBE\u5907")],-1))]),_:1})]),_:1})):(i(),g("div",z,[r(n,{description:"\u6682\u65E0\u6570\u636E"})]))]),_:1},8,["loading"])}}});export{F as _};
