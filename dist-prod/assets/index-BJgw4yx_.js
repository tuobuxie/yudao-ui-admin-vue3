import{_ as z}from"./ContentWrap.vue_vue_type_script_setup_true_lang-BRGqERh7.js";import{a as X,d as aa,e as ea,u as la,D as p,H as S,I as ta,J as sa,K as ra,L as ua,c as oa}from"./index-B2urM1q-.js";import{_ as na}from"./DictTag.vue_vue_type_script_lang-wg8pUI-B.js";import{g as ca,a as da,r as pa,b as ia,c as fa}from"./index-BglGagJf.js";import{f as I}from"./formatTime-BGPGB_ys.js";import{_ as _a}from"./AfterSaleDisagreeForm.vue_vue_type_script_setup_true_lang-Ci_ka_6F.js";import{u as ma}from"./tagsView-DIbur9wp.js";import{am as ya,an as ba,al as Ea,f as va,i as wa,j as Ta,Z as Aa,_ as ka,a6 as Ra,ao as Ca,ap as ha}from"./form-designer-DHHJWkD5.js";import{l as Sa,r as g,e as Da,m as k,q as c,J as a,B as e,G as u,H as o,u as l,I as R,$ as D,A as i,E as b,x as E,O as Na}from"./form-create-_84fGzaM.js";import"./Dialog.vue_vue_type_style_index_0_lang-bMayE4GC.js";const Pa={class:"el-timeline-right-content"},Ia=Sa({name:"TradeAfterSaleDetail",__name:"index",setup(xa){const{t:T}=X(),d=aa(),{params:x}=ea(),{push:L,currentRoute:Y}=la(),t=g({order:{},logs:[]}),N=g(),F=f=>{const s=sa(p.USER_TYPE,f);switch(s==null?void 0:s.colorType){case"success":return"#67C23A";case"info":return"#909399";case"warning":return"#E6A23C";case"danger":return"#F56C6C"}return"#409EFF"},y=async()=>{const f=x.id;if(f){const s=await ca(f);s==null&&(d.notifyError("\u552E\u540E\u8BA2\u5355\u4E0D\u5B58\u5728"),V()),t.value=s}},U=async()=>{try{await d.confirm("\u662F\u5426\u540C\u610F\u552E\u540E\uFF1F"),await da(t.value.id),d.success(T("common.success")),await y()}catch{}},O=async()=>{var f;(f=N.value)==null||f.open(t.value)},H=async()=>{try{await d.confirm("\u662F\u5426\u786E\u8BA4\u6536\u8D27\uFF1F"),await pa(t.value.id),d.success(T("common.success")),await y()}catch{}},G=async()=>{try{await d.confirm("\u662F\u5426\u62D2\u7EDD\u6536\u8D27\uFF1F"),await ia(t.value.id),d.success(T("common.success")),await y()}catch{}},J=async()=>{try{await d.confirm("\u662F\u5426\u786E\u8BA4\u9000\u6B3E\uFF1F"),await fa(t.value.id),d.success(T("common.success")),await y()}catch{}},{delView:M}=ma(),V=()=>{M(l(Y)),L({name:"TradeAfterSale"})};return Da(async()=>{await y()}),(f,s)=>{const r=ba,m=na,v=ya,j=Ea,w=va,q=Ra,A=ka,B=Aa,P=Ta,K=wa,Q=ha,W=Ca,Z=z;return c(),k(R,null,[a(Z,null,{default:e(()=>[a(v,{title:"\u8BA2\u5355\u4FE1\u606F"},{default:e(()=>[a(r,{label:"\u8BA2\u5355\u53F7: "},{default:e(()=>[u(o(l(t).orderNo),1)]),_:1}),a(r,{label:"\u914D\u9001\u65B9\u5F0F: "},{default:e(()=>[a(m,{type:l(p).TRADE_DELIVERY_TYPE,value:l(t).order.deliveryType},null,8,["type","value"])]),_:1}),a(r,{label:"\u8BA2\u5355\u7C7B\u578B: "},{default:e(()=>[a(m,{type:l(p).TRADE_ORDER_TYPE,value:l(t).order.type},null,8,["type","value"])]),_:1}),a(r,{label:"\u6536\u8D27\u4EBA: "},{default:e(()=>[u(o(l(t).order.receiverName),1)]),_:1}),a(r,{label:"\u4E70\u5BB6\u7559\u8A00: "},{default:e(()=>[u(o(l(t).order.userRemark),1)]),_:1}),a(r,{label:"\u8BA2\u5355\u6765\u6E90: "},{default:e(()=>[a(m,{type:l(p).TERMINAL,value:l(t).order.terminal},null,8,["type","value"])]),_:1}),a(r,{label:"\u8054\u7CFB\u7535\u8BDD: "},{default:e(()=>[u(o(l(t).order.receiverMobile),1)]),_:1}),a(r,{label:"\u5546\u5BB6\u5907\u6CE8: "},{default:e(()=>[u(o(l(t).order.remark),1)]),_:1}),a(r,{label:"\u652F\u4ED8\u5355\u53F7: "},{default:e(()=>[u(o(l(t).order.payOrderId),1)]),_:1}),a(r,{label:"\u4ED8\u6B3E\u65B9\u5F0F: "},{default:e(()=>[a(m,{type:l(p).PAY_CHANNEL_CODE,value:l(t).order.payChannelCode},null,8,["type","value"])]),_:1}),a(r,{label:"\u4E70\u5BB6: "},{default:e(()=>{var n,_;return[u(o((_=(n=l(t))==null?void 0:n.user)==null?void 0:_.nickname),1)]}),_:1})]),_:1}),a(v,{title:"\u552E\u540E\u4FE1\u606F"},{default:e(()=>[a(r,{label:"\u9000\u6B3E\u7F16\u53F7: "},{default:e(()=>[u(o(l(t).no),1)]),_:1}),a(r,{label:"\u7533\u8BF7\u65F6\u95F4: "},{default:e(()=>[u(o(l(I)(l(t).auditTime)),1)]),_:1}),a(r,{label:"\u552E\u540E\u7C7B\u578B: "},{default:e(()=>[a(m,{type:l(p).TRADE_AFTER_SALE_TYPE,value:l(t).type},null,8,["type","value"])]),_:1}),a(r,{label:"\u552E\u540E\u65B9\u5F0F: "},{default:e(()=>[a(m,{type:l(p).TRADE_AFTER_SALE_WAY,value:l(t).way},null,8,["type","value"])]),_:1}),a(r,{label:"\u9000\u6B3E\u91D1\u989D: "},{default:e(()=>[u(o(l(S)(l(t).refundPrice)),1)]),_:1}),a(r,{label:"\u9000\u6B3E\u539F\u56E0: "},{default:e(()=>[u(o(l(t).applyReason),1)]),_:1}),a(r,{label:"\u8865\u5145\u63CF\u8FF0: "},{default:e(()=>[u(o(l(t).applyDescription),1)]),_:1}),a(r,{label:"\u51ED\u8BC1\u56FE\u7247: "},{default:e(()=>[(c(!0),k(R,null,D(l(t).applyPicUrls,(n,_)=>(c(),i(j,{key:_,src:n.url,class:"mr-10px h-60px w-60px",onClick:s[0]||(s[0]=La=>(C=>{const h=[];ra(C)?C.forEach($=>{h.push($.url)}):h.push(C),ua({urlList:h})})(l(t).applyPicUrls))},null,8,["src"]))),128))]),_:1})]),_:1}),a(v,{column:1,title:"\u9000\u6B3E\u72B6\u6001"},{default:e(()=>[a(r,{label:"\u9000\u6B3E\u72B6\u6001: "},{default:e(()=>[a(m,{type:l(p).TRADE_AFTER_SALE_STATUS,value:l(t).status},null,8,["type","value"])]),_:1}),a(r,{"label-class-name":"no-colon"},{default:e(()=>[l(t).status===10?(c(),i(w,{key:0,type:"primary",onClick:U},{default:e(()=>s[1]||(s[1]=[u("\u540C\u610F\u552E\u540E")])),_:1})):b("",!0),l(t).status===10?(c(),i(w,{key:1,type:"primary",onClick:O},{default:e(()=>s[2]||(s[2]=[u(" \u62D2\u7EDD\u552E\u540E ")])),_:1})):b("",!0),l(t).status===30?(c(),i(w,{key:2,type:"primary",onClick:H},{default:e(()=>s[3]||(s[3]=[u(" \u786E\u8BA4\u6536\u8D27 ")])),_:1})):b("",!0),l(t).status===30?(c(),i(w,{key:3,type:"primary",onClick:G},{default:e(()=>s[4]||(s[4]=[u("\u62D2\u7EDD\u6536\u8D27")])),_:1})):b("",!0),l(t).status===40?(c(),i(w,{key:4,type:"primary",onClick:J},{default:e(()=>s[5]||(s[5]=[u("\u786E\u8BA4\u9000\u6B3E")])),_:1})):b("",!0)]),_:1}),a(r,null,{label:e(()=>s[6]||(s[6]=[E("span",{style:{color:"red"}},"\u63D0\u9192: ",-1)])),default:e(()=>[s[7]||(s[7]=u(" \u5982\u679C\u672A\u53D1\u8D27\uFF0C\u8BF7\u70B9\u51FB\u540C\u610F\u9000\u6B3E\u7ED9\u4E70\u5BB6\u3002")),s[8]||(s[8]=E("br",null,null,-1)),s[9]||(s[9]=u(" \u5982\u679C\u5B9E\u9645\u5DF2\u53D1\u8D27\uFF0C\u8BF7\u4E3B\u52A8\u4E0E\u4E70\u5BB6\u8054\u7CFB\u3002")),s[10]||(s[10]=E("br",null,null,-1)),s[11]||(s[11]=u(" \u5982\u679C\u8BA2\u5355\u6574\u4F53\u9000\u6B3E\u540E\uFF0C\u4F18\u60E0\u5238\u548C\u4F59\u989D\u4F1A\u9000\u8FD8\u7ED9\u4E70\u5BB6. "))]),_:1})]),_:1}),a(v,{title:"\u5546\u54C1\u4FE1\u606F"},{default:e(()=>[a(r,{labelClassName:"no-colon"},{default:e(()=>[a(K,{gutter:20},{default:e(()=>[a(P,{span:15},{default:e(()=>[l(t).orderItem?(c(),i(B,{key:0,data:[l(t).orderItem],border:""},{default:e(()=>[a(A,{label:"\u5546\u54C1",prop:"spuName",width:"auto"},{default:e(({row:n})=>[u(o(n.spuName)+" ",1),(c(!0),k(R,null,D(n.properties,_=>(c(),i(q,{key:_.propertyId,class:"mr-10px"},{default:e(()=>[u(o(_.propertyName)+": "+o(_.valueName),1)]),_:2},1024))),128))]),_:1}),a(A,{label:"\u5546\u54C1\u539F\u4EF7",prop:"price",width:"150"},{default:e(({row:n})=>[u(o(l(S)(n.price))+" \u5143",1)]),_:1}),a(A,{label:"\u6570\u91CF",prop:"count",width:"100"}),a(A,{label:"\u5408\u8BA1",prop:"payPrice",width:"150"},{default:e(({row:n})=>[u(o(l(S)(n.payPrice))+" \u5143",1)]),_:1})]),_:1},8,["data"])):b("",!0)]),_:1}),a(P,{span:10})]),_:1})]),_:1})]),_:1}),a(v,{title:"\u552E\u540E\u65E5\u5FD7"},{default:e(()=>[a(r,{labelClassName:"no-colon"},{default:e(()=>[a(W,null,{default:e(()=>[(c(!0),k(R,null,D(l(t).logs,n=>(c(),i(Q,{key:n.id,timestamp:l(I)(n.createTime),placement:"top"},{dot:e(()=>[E("span",{style:Na({backgroundColor:F(n.userType)}),class:"dot-node-style"},o(l(ta)(l(p).USER_TYPE,n.userType)[0]||"\u7CFB"),5)]),default:e(()=>[E("div",Pa,[E("span",null,o(n.content),1)])]),_:2},1032,["timestamp"]))),128))]),_:1})]),_:1})]),_:1})]),_:1}),a(_a,{ref_key:"updateAuditReasonFormRef",ref:N,onSuccess:y},null,512)],64)}}}),ga=oa(Ia,[["__scopeId","data-v-d8ded488"]]);export{ga as default};
