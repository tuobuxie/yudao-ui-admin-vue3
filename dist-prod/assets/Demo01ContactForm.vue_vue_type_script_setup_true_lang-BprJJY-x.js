import{X as u,a as A,d as B,h as H,D as I,a0 as J,$ as K}from"./index-DzK2S43K.js";import{_ as L}from"./Dialog.vue_vue_type_style_index_0_lang-D3YOFsHs.js";import{h as P,aj as T,k as Y,s as z,u as N,F as O,ak as Q,f as W}from"./form-designer-DHHJWkD5.js";import{l as Z,r as m,j as ee,A as g,q as p,B as d,C as ae,u as a,J as s,m as te,I as le,$ as oe,G as b,H as de,h as se}from"./form-create-_84fGzaM.js";const v={getDemo01ContactPage:async l=>await u.get({url:"/infra/demo01-contact/page",params:l}),getDemo01Contact:async l=>await u.get({url:"/infra/demo01-contact/get?id="+l}),createDemo01Contact:async l=>await u.post({url:"/infra/demo01-contact/create",data:l}),updateDemo01Contact:async l=>await u.put({url:"/infra/demo01-contact/update",data:l}),deleteDemo01Contact:async l=>await u.delete({url:"/infra/demo01-contact/delete?id="+l}),deleteDemo01ContactList:async l=>await u.delete({url:`/infra/demo01-contact/delete-list?ids=${l.join(",")}`}),exportDemo01Contact:async l=>await u.download({url:"/infra/demo01-contact/export-excel",params:l})},re=Z({name:"Demo01ContactForm",__name:"Demo01ContactForm",emits:["success"],setup(l,{expose:C,emit:D}){const{t:f}=A(),_=B(),i=m(!1),V=m(""),n=m(!1),h=m(""),o=m({id:void 0,name:void 0,sex:void 0,birthday:void 0,description:void 0,avatar:void 0}),w=ee({name:[{required:!0,message:"\u540D\u5B57\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],sex:[{required:!0,message:"\u6027\u522B\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],birthday:[{required:!0,message:"\u51FA\u751F\u5E74\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],description:[{required:!0,message:"\u7B80\u4ECB\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),y=m();C({open:async(r,e)=>{if(i.value=!0,V.value=f("action."+r),h.value=r,S(),e){n.value=!0;try{o.value=await v.getDemo01Contact(e)}finally{n.value=!1}}}});const U=D,k=async()=>{await y.value.validate(),n.value=!0;try{const r=o.value;h.value==="create"?(await v.createDemo01Contact(r),_.success(f("common.createSuccess"))):(await v.updateDemo01Contact(r),_.success(f("common.updateSuccess"))),i.value=!1,U("success")}finally{n.value=!1}},S=()=>{var r;o.value={id:void 0,name:void 0,sex:void 0,birthday:void 0,description:void 0,avatar:void 0},(r=y.value)==null||r.resetFields()};return(r,e)=>{const q=Y,c=T,F=N,E=z,$=O,j=J,R=K,G=P,x=W,M=L,X=Q;return p(),g(M,{title:a(V),modelValue:a(i),"onUpdate:modelValue":e[6]||(e[6]=t=>se(i)?i.value=t:null)},{footer:d(()=>[s(x,{onClick:k,type:"primary",disabled:a(n)},{default:d(()=>e[7]||(e[7]=[b("\u786E \u5B9A")])),_:1},8,["disabled"]),s(x,{onClick:e[5]||(e[5]=t=>i.value=!1)},{default:d(()=>e[8]||(e[8]=[b("\u53D6 \u6D88")])),_:1})]),default:d(()=>[ae((p(),g(G,{ref_key:"formRef",ref:y,model:a(o),rules:a(w),"label-width":"100px"},{default:d(()=>[s(c,{label:"\u540D\u5B57",prop:"name"},{default:d(()=>[s(q,{modelValue:a(o).name,"onUpdate:modelValue":e[0]||(e[0]=t=>a(o).name=t),placeholder:"\u8BF7\u8F93\u5165\u540D\u5B57"},null,8,["modelValue"])]),_:1}),s(c,{label:"\u6027\u522B",prop:"sex"},{default:d(()=>[s(E,{modelValue:a(o).sex,"onUpdate:modelValue":e[1]||(e[1]=t=>a(o).sex=t)},{default:d(()=>[(p(!0),te(le,null,oe(a(H)(a(I).SYSTEM_USER_SEX),t=>(p(),g(F,{key:t.value,label:t.value},{default:d(()=>[b(de(t.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),s(c,{label:"\u51FA\u751F\u5E74",prop:"birthday"},{default:d(()=>[s($,{modelValue:a(o).birthday,"onUpdate:modelValue":e[2]||(e[2]=t=>a(o).birthday=t),type:"date","value-format":"x",placeholder:"\u9009\u62E9\u51FA\u751F\u5E74"},null,8,["modelValue"])]),_:1}),s(c,{label:"\u7B80\u4ECB",prop:"description"},{default:d(()=>[s(j,{modelValue:a(o).description,"onUpdate:modelValue":e[3]||(e[3]=t=>a(o).description=t),height:"150px"},null,8,["modelValue"])]),_:1}),s(c,{label:"\u5934\u50CF",prop:"avatar"},{default:d(()=>[s(R,{modelValue:a(o).avatar,"onUpdate:modelValue":e[4]||(e[4]=t=>a(o).avatar=t)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[X,a(n)]])]),_:1},8,["title","modelValue"])}}});export{v as D,re as _};
