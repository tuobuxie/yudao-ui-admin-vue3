import{u as h,e as D,d as P}from"./index-B2urM1q-.js";import{P as R}from"./index-CHLLHQ4c.js";import{D as V}from"./index-DM-qCYCO.js";import{_ as b}from"./ProductDetailsHeader.vue_vue_type_script_setup_true_lang-CEv3wH2_.js";import{_ as C}from"./ProductDetailsInfo.vue_vue_type_script_setup_true_lang-6fL3m0tU.js";import{_ as I}from"./index.vue_vue_type_script_setup_true_lang-DCoIvlMZ.js";import{u as M}from"./tagsView-DIbur9wp.js";import{I as x}from"./constants-D46CCSyK.js";import{a0 as T,$ as j,j as q}from"./form-designer-DHHJWkD5.js";import{l as E,r as p,e as J,u as o,m as U,q as f,J as r,B as m,h as k,A as z,E as A,I as B,p as O}from"./form-create-_84fGzaM.js";import"./ContentWrap.vue_vue_type_script_setup_true_lang-BRGqERh7.js";import"./ProductForm.vue_vue_type_script_setup_true_lang-73X1OhiG.js";import"./Dialog.vue_vue_type_style_index_0_lang-bMayE4GC.js";import"./index-B7m0oUtn.js";import"./DictTag.vue_vue_type_script_lang-wg8pUI-B.js";import"./formatTime-BGPGB_ys.js";import"./index.vue_vue_type_script_setup_true_lang-Cj0jlW8o.js";import"./index-Dg-RGpco.js";import"./ThingModelForm.vue_vue_type_script_setup_true_lang-BDYkzcA1.js";import"./ThingModelProperty-CF2i3Nrh.js";import"./ThingModelEnumDataSpecs-CJJ_M4fU.js";import"./ThingModelNumberDataSpecs-CgvyUkPT.js";import"./ThingModelService-CL-7exDX.js";import"./ThingModelInputOutputParam-BMQ2OhQx.js";import"./ThingModelEvent-BQuXFVsd.js";import"./ThingModelTSL.vue_vue_type_script_setup_true_lang-CkTRSpZC.js";import"./JsonEditor-ptu02USn.js";import"./index-DWAKVBMX.js";import"./json-D1vBrYzr.js";import"./DataDefinition.vue_vue_type_script_setup_true_lang-Babe18-g.js";const S=E({name:"IoTProductDetail",__name:"index",setup($){const{delView:c}=M(),{currentRoute:v}=h(),s=D(),y=P(),l=s.params.id,u=p(!0),a=p({}),e=p("info");O(x.PRODUCT,a);const d=async i=>{u.value=!0;try{a.value=await R.getProduct(i)}finally{u.value=!1}};return J(async()=>{if(!l)return y.warning("\u53C2\u6570\u9519\u8BEF\uFF0C\u4EA7\u54C1\u4E0D\u80FD\u4E3A\u7A7A\uFF01"),void c(o(v));await d(l);const{tab:i}=s.query;i&&(e.value=i),a.value.id&&(a.value.deviceCount=await(async t=>{try{return await V.getDeviceCount(t)}catch{return 0}})(a.value.id))}),(i,t)=>{const n=j,_=T,g=q;return f(),U(B,null,[r(b,{loading:o(u),product:o(a),onRefresh:t[0]||(t[0]=()=>d(o(l)))},null,8,["loading","product"]),r(g,null,{default:m(()=>[r(_,{modelValue:o(e),"onUpdate:modelValue":t[1]||(t[1]=w=>k(e)?e.value=w:null)},{default:m(()=>[r(n,{label:"\u4EA7\u54C1\u4FE1\u606F",name:"info"},{default:m(()=>[o(e)==="info"?(f(),z(C,{key:0,product:o(a)},null,8,["product"])):A("",!0)]),_:1}),r(n,{label:"\u7269\u6A21\u578B\uFF08\u529F\u80FD\u5B9A\u4E49\uFF09",lazy:"",name:"thingModel"},{default:m(()=>[r(I,{ref:"thingModelRef"},null,512)]),_:1})]),_:1},8,["modelValue"])]),_:1})],64)}}});export{S as default};
