import{aE as J,_ as z}from"./index-D_TWD7wt.js";import{v as w,a as o}from"./constants-CaEZMpg0.js";import{x as G,Q,k as W,o as j,a6 as X,F as K,l as P}from"./form-designer-DHHJWkD5.js";import{l as Z,r as V,c as b,b as ee,m as d,q as p,A as s,u,h as n,B as m,J as c,I as D,$ as O,x as g,E as Y,G as le,H as A}from"./form-create-_84fGzaM.js";const ae={class:"w-full min-w-0"},te={key:2,class:"w-full! flex items-center gap-8px"},oe={key:3,class:"w-full!"},ue={key:0,class:"mt-8px flex items-center gap-6px flex-wrap"},pe={class:"text-12px text-[var(--el-text-color-secondary)] px-4px"},re=Z({name:"ValueInput",__name:"ValueInput",props:{modelValue:{},propertyType:{},operator:{},propertyConfig:{}},emits:["update:modelValue"],setup(L,{emit:B}){const r=L,t=J(r,"modelValue",B,{defaultValue:""}),i=V(""),v=V(""),y=V(""),f=V(),U=b(()=>{var a;return(a=r.propertyConfig)!=null&&a.enum?r.propertyConfig.enum.map(e=>({label:e.name||e.label||e.value,value:e.value})):[]}),k=b(()=>r.operator===w.IN.value&&t.value?t.value.split(",").map(a=>a.trim()).filter(a=>a):[]),T=()=>{switch(r.propertyType){case o.INT:case o.FLOAT:case o.DOUBLE:return"number";default:return"text"}},I=()=>{i.value&&v.value?t.value=`${i.value},${v.value}`:t.value=""},H=a=>{t.value=a||""},M=a=>{t.value=(a==null?void 0:a.toString())||""};return ee(()=>r.operator,()=>{t.value="",i.value="",v.value="",y.value="",f.value=void 0}),(a,e)=>{var _,N;const h=Q,C=G,x=W,F=z,E=j,$=X,R=K,S=P;return p(),d("div",ae,[a.propertyType===u(o).BOOL?(p(),s(C,{key:0,modelValue:u(t),"onUpdate:modelValue":e[0]||(e[0]=l=>n(t)?t.value=l:null),placeholder:"\u8BF7\u9009\u62E9\u5E03\u5C14\u503C",class:"w-full!"},{default:m(()=>[c(h,{label:"\u771F (true)",value:"true"}),c(h,{label:"\u5047 (false)",value:"false"})]),_:1},8,["modelValue"])):a.propertyType===u(o).ENUM&&u(U).length>0?(p(),s(C,{key:1,modelValue:u(t),"onUpdate:modelValue":e[1]||(e[1]=l=>n(t)?t.value=l:null),placeholder:"\u8BF7\u9009\u62E9\u679A\u4E3E\u503C",class:"w-full!"},{default:m(()=>[(p(!0),d(D,null,O(u(U),l=>(p(),s(h,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])):a.operator===u(w).BETWEEN.value?(p(),d("div",te,[c(x,{modelValue:u(i),"onUpdate:modelValue":e[2]||(e[2]=l=>n(i)?i.value=l:null),type:T(),placeholder:"\u6700\u5C0F\u503C",onInput:I,class:"flex-1 min-w-0",style:{width:"auto !important"}},null,8,["modelValue","type"]),e[8]||(e[8]=g("span",{class:"text-12px text-[var(--el-text-color-secondary)] whitespace-nowrap"},"\u81F3",-1)),c(x,{modelValue:u(v),"onUpdate:modelValue":e[3]||(e[3]=l=>n(v)?v.value=l:null),type:T(),placeholder:"\u6700\u5927\u503C",onInput:I,class:"flex-1 min-w-0"},null,8,["modelValue","type"])])):a.operator===u(w).IN.value?(p(),d("div",oe,[c(x,{modelValue:u(t),"onUpdate:modelValue":e[4]||(e[4]=l=>n(t)?t.value=l:null),placeholder:"\u8BF7\u8F93\u5165\u503C\u5217\u8868\uFF0C\u7528\u9017\u53F7\u5206\u9694",class:"w-full!"},{suffix:m(()=>[c(E,{content:"\u591A\u4E2A\u503C\u7528\u9017\u53F7\u5206\u9694\uFF0C\u5982\uFF1A1,2,3",placement:"top"},{default:m(()=>[c(F,{icon:"ep:question-filled",class:"text-[var(--el-text-color-placeholder)] cursor-help"})]),_:1})]),_:1},8,["modelValue"]),u(k).length>0?(p(),d("div",ue,[e[9]||(e[9]=g("span",{class:"text-12px text-[var(--el-text-color-secondary)]"},"\u89E3\u6790\u7ED3\u679C\uFF1A",-1)),(p(!0),d(D,null,O(u(k),(l,q)=>(p(),s($,{key:q,size:"small",class:"m-0"},{default:m(()=>[le(A(l),1)]),_:2},1024))),128))])):Y("",!0)])):a.propertyType===u(o).DATE?(p(),s(R,{key:4,modelValue:u(y),"onUpdate:modelValue":e[5]||(e[5]=l=>n(y)?y.value=l:null),type:"datetime",placeholder:"\u8BF7\u9009\u62E9\u65E5\u671F\u65F6\u95F4",format:"YYYY-MM-DD HH:mm:ss","value-format":"YYYY-MM-DD HH:mm:ss",onChange:H,class:"w-full!"},null,8,["modelValue"])):[o.INT,o.FLOAT,o.DOUBLE].includes(r.propertyType||"")?(p(),s(S,{key:5,modelValue:u(f),"onUpdate:modelValue":e[6]||(e[6]=l=>n(f)?f.value=l:null),precision:r.propertyType===o.INT?0:2,step:r.propertyType===o.INT?1:.1,min:((_=r.propertyConfig)==null?void 0:_.min)||void 0,max:((N=r.propertyConfig)==null?void 0:N.max)||void 0,placeholder:"\u8BF7\u8F93\u5165\u6570\u503C",onChange:M,class:"w-full!"},null,8,["modelValue","precision","step","min","max"])):(p(),s(x,{key:6,modelValue:u(t),"onUpdate:modelValue":e[7]||(e[7]=l=>n(t)?t.value=l:null),type:T(),placeholder:{[o.TEXT]:"\u8BF7\u8F93\u5165\u5B57\u7B26\u4E32",[o.INT]:"\u8BF7\u8F93\u5165\u6574\u6570",[o.FLOAT]:"\u8BF7\u8F93\u5165\u6D6E\u70B9\u6570",[o.DOUBLE]:"\u8BF7\u8F93\u5165\u53CC\u7CBE\u5EA6\u6570",[o.STRUCT]:"\u8BF7\u8F93\u5165 JSON \u683C\u5F0F\u6570\u636E",[o.ARRAY]:"\u8BF7\u8F93\u5165\u6570\u7EC4\u683C\u5F0F\u6570\u636E"}[r.propertyType||""]||"\u8BF7\u8F93\u5165\u503C",class:"w-full!"},{suffix:m(()=>{var l;return[(l=a.propertyConfig)!=null&&l.unit?(p(),s(E,{key:0,content:`\u5355\u4F4D\uFF1A${a.propertyConfig.unit}`,placement:"top"},{default:m(()=>[g("span",pe,A(a.propertyConfig.unit),1)]),_:1},8,["content"])):Y("",!0)]}),_:1},8,["modelValue","type","placeholder"]))])}}});export{re as _};
