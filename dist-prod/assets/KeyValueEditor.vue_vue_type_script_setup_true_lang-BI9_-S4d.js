import{N as y}from"./index-B2urM1q-.js";import{k as C,f as E,b as j,aD as I,aI as K}from"./form-designer-DHHJWkD5.js";import{l as T,r as g,b as f,m as n,q as r,I as k,J as l,$ as q,B as s,G as _,u as p,H as w}from"./form-create-_84fGzaM.js";const D=T({name:"KeyValueEditor",__name:"KeyValueEditor",props:{modelValue:{},addButtonText:{}},emits:["update:modelValue"],setup(x,{emit:b}){const c=x,h=b,a=g([]),U=()=>{a.value.push({key:"",value:""}),m()},m=()=>{const u={};a.value.forEach(e=>{e.key&&(u[e.key]=e.value)}),h("update:modelValue",u)};return f(a,m,{deep:!0}),f(()=>c.modelValue,u=>{!y(u)&&y(a.value)&&(a.value=Object.entries(c.modelValue).map(([e,o])=>({key:e,value:o})))}),(u,e)=>{const o=C,V=j,i=E;return r(),n(k,null,[(r(!0),n(k,null,q(p(a),(t,v)=>(r(),n("div",{key:v,class:"flex mb-2 w-full"},[l(o,{modelValue:t.key,"onUpdate:modelValue":d=>t.key=d,class:"mr-2",placeholder:"\u952E"},null,8,["modelValue","onUpdate:modelValue"]),l(o,{modelValue:t.value,"onUpdate:modelValue":d=>t.value=d,placeholder:"\u503C"},null,8,["modelValue","onUpdate:modelValue"]),l(i,{class:"ml-2",text:"",type:"danger",onClick:d=>(B=>{a.value.splice(B,1),m()})(v)},{default:s(()=>[l(V,null,{default:s(()=>[l(p(I))]),_:1}),e[0]||(e[0]=_(" \u5220\u9664 "))]),_:2},1032,["onClick"])]))),128)),l(i,{text:"",type:"primary",onClick:U},{default:s(()=>[l(V,null,{default:s(()=>[l(p(K))]),_:1}),_(" "+w(u.addButtonText),1)]),_:1})],64)}}});export{D as _};
