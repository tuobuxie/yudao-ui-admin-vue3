import{d as q,a as R}from"./index-DzK2S43K.js";import{_ as U}from"./Dialog.vue_vue_type_style_index_0_lang-D3YOFsHs.js";import{r as S}from"./comment-XwpRLeOE.js";import{h as A,aj as B,k as F,ak as G,f as J}from"./form-designer-DHHJWkD5.js";import{l as P,r as n,j as z,A as p,q as c,B as o,C as D,u as a,J as m,G as f,h as E}from"./form-create-_84fGzaM.js";const H=P({name:"ProductComment",__name:"ReplyForm",emits:["success"],setup(I,{expose:v,emit:y}){const C=q(),{t:_}=R(),t=n(!1),u=n(!1),s=n({id:void 0,replyContent:void 0}),b=z({replyContent:[{required:!0,message:"\u56DE\u590D\u5185\u5BB9\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),r=n();v({open:async l=>{x(),s.value.id=l,t.value=!0}});const V=y,k=async()=>{var l;if(await((l=r==null?void 0:r.value)==null?void 0:l.validate())){u.value=!0;try{await S(s.value),C.success(_("common.createSuccess")),t.value=!1,V("success")}finally{u.value=!1}}},x=()=>{var l;s.value={id:void 0,replyContent:void 0},(l=r.value)==null||l.resetFields()};return(l,e)=>{const h=B,w=A,i=J,g=U,j=G;return c(),p(g,{title:"\u56DE\u590D",modelValue:a(t),"onUpdate:modelValue":e[2]||(e[2]=d=>E(t)?t.value=d:null)},{footer:o(()=>[m(i,{onClick:k,type:"primary",disabled:a(u)},{default:o(()=>e[3]||(e[3]=[f("\u786E \u5B9A ")])),_:1},8,["disabled"]),m(i,{onClick:e[1]||(e[1]=d=>t.value=!1)},{default:o(()=>e[4]||(e[4]=[f("\u53D6 \u6D88")])),_:1})]),default:o(()=>[D((c(),p(w,{ref_key:"formRef",ref:r,model:a(s),rules:a(b),"label-width":"100px"},{default:o(()=>[m(h,{label:"\u56DE\u590D\u5185\u5BB9",prop:"replyContent"},{default:o(()=>[m(a(F),{type:"textarea",modelValue:a(s).replyContent,"onUpdate:modelValue":e[0]||(e[0]=d=>a(s).replyContent=d)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[j,a(u)]])]),_:1},8,["modelValue"])}}});export{H as _};
