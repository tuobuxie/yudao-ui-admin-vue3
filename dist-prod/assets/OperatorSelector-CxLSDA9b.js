import{aE as x,c as _}from"./index-DzK2S43K.js";import{a as e,v as l}from"./constants-DGDXM-Iq.js";import{x as U,Q as f}from"./form-designer-DHHJWkD5.js";import{l as I,c as d,b as S,m as i,q as T,J as B,u as v,h as D,B as y,I as R,$ as F,A as H,x as r,H as u}from"./form-create-_84fGzaM.js";const Q={class:"w-full"},g={class:"flex items-center justify-between w-full py-4px"},h={class:"flex items-center gap-8px"},w={class:"text-14px font-500 text-[var(--el-text-color-primary)]"},V={class:"text-12px text-[var(--el-color-primary)] bg-[var(--el-color-primary-light-9)] px-6px py-2px rounded-4px font-mono"},X={class:"text-12px text-[var(--el-text-color-secondary)]"},M=_(I({name:"OperatorSelector",__name:"OperatorSelector",props:{modelValue:{},propertyType:{}},emits:["update:modelValue","change"],setup(N,{emit:L}){const t=N,m=L,p=x(t,"modelValue",m),o=[{value:l.EQUALS.value,label:l.EQUALS.name,symbol:"=",description:"\u503C\u5B8C\u5168\u76F8\u7B49\u65F6\u89E6\u53D1",example:"temperature = 25",supportedTypes:[e.INT,e.FLOAT,e.DOUBLE,e.TEXT,e.BOOL,e.ENUM]},{value:l.NOT_EQUALS.value,label:l.NOT_EQUALS.name,symbol:"\u2260",description:"\u503C\u4E0D\u76F8\u7B49\u65F6\u89E6\u53D1",example:"power != false",supportedTypes:[e.INT,e.FLOAT,e.DOUBLE,e.TEXT,e.BOOL,e.ENUM]},{value:l.GREATER_THAN.value,label:l.GREATER_THAN.name,symbol:">",description:"\u503C\u5927\u4E8E\u6307\u5B9A\u503C\u65F6\u89E6\u53D1",example:"temperature > 30",supportedTypes:[e.INT,e.FLOAT,e.DOUBLE,e.DATE]},{value:l.GREATER_THAN_OR_EQUALS.value,label:l.GREATER_THAN_OR_EQUALS.name,symbol:"\u2265",description:"\u503C\u5927\u4E8E\u6216\u7B49\u4E8E\u6307\u5B9A\u503C\u65F6\u89E6\u53D1",example:"humidity >= 80",supportedTypes:[e.INT,e.FLOAT,e.DOUBLE,e.DATE]},{value:l.LESS_THAN.value,label:l.LESS_THAN.name,symbol:"<",description:"\u503C\u5C0F\u4E8E\u6307\u5B9A\u503C\u65F6\u89E6\u53D1",example:"temperature < 10",supportedTypes:[e.INT,e.FLOAT,e.DOUBLE,e.DATE]},{value:l.LESS_THAN_OR_EQUALS.value,label:l.LESS_THAN_OR_EQUALS.name,symbol:"\u2264",description:"\u503C\u5C0F\u4E8E\u6216\u7B49\u4E8E\u6307\u5B9A\u503C\u65F6\u89E6\u53D1",example:"battery <= 20",supportedTypes:[e.INT,e.FLOAT,e.DOUBLE,e.DATE]},{value:l.IN.value,label:l.IN.name,symbol:"\u2208",description:"\u503C\u5728\u6307\u5B9A\u5217\u8868\u4E2D\u65F6\u89E6\u53D1",example:"status in [1,2,3]",supportedTypes:[e.INT,e.FLOAT,e.TEXT,e.ENUM]},{value:l.NOT_IN.value,label:l.NOT_IN.name,symbol:"\u2209",description:"\u503C\u4E0D\u5728\u6307\u5B9A\u5217\u8868\u4E2D\u65F6\u89E6\u53D1",example:"status not in [1,2,3]",supportedTypes:[e.INT,e.FLOAT,e.TEXT,e.ENUM]},{value:l.BETWEEN.value,label:l.BETWEEN.name,symbol:"\u2286",description:"\u503C\u5728\u6307\u5B9A\u8303\u56F4\u5185\u65F6\u89E6\u53D1",example:"temperature between 20,30",supportedTypes:[e.INT,e.FLOAT,e.DOUBLE,e.DATE]},{value:l.NOT_BETWEEN.value,label:l.NOT_BETWEEN.name,symbol:"\u2284",description:"\u503C\u4E0D\u5728\u6307\u5B9A\u8303\u56F4\u5185\u65F6\u89E6\u53D1",example:"temperature not between 20,30",supportedTypes:[e.INT,e.FLOAT,e.DOUBLE,e.DATE]},{value:l.LIKE.value,label:l.LIKE.name,symbol:"\u2248",description:"\u5B57\u7B26\u4E32\u5339\u914D\u6307\u5B9A\u6A21\u5F0F\u65F6\u89E6\u53D1",example:'message like "%error%"',supportedTypes:[e.TEXT]},{value:l.NOT_NULL.value,label:l.NOT_NULL.name,symbol:"\u2260\u2205",description:"\u503C\u975E\u7A7A\u65F6\u89E6\u53D1",example:"data not null",supportedTypes:[e.INT,e.FLOAT,e.DOUBLE,e.TEXT,e.BOOL,e.ENUM,e.DATE]}],c=d(()=>t.propertyType?o.filter(s=>s.supportedTypes.includes(t.propertyType||"")):o),E=d(()=>o.find(s=>s.value===p.value)),O=s=>{m("change",s)};return S(()=>t.propertyType,()=>{p.value&&E.value&&!E.value.supportedTypes.includes(t.propertyType||"")&&(p.value="")}),(s,n)=>{const A=f,b=U;return T(),i("div",Q,[B(b,{modelValue:v(p),"onUpdate:modelValue":n[0]||(n[0]=a=>D(p)?p.value=a:null),placeholder:"\u8BF7\u9009\u62E9\u64CD\u4F5C\u7B26",onChange:O,class:"w-full"},{default:y(()=>[(T(!0),i(R,null,F(v(c),a=>(T(),H(A,{key:a.value,label:a.label,value:a.value},{default:y(()=>[r("div",g,[r("div",h,[r("div",w,u(a.label),1),r("div",V,u(a.symbol),1)]),r("div",X,u(a.description),1)])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-167a3e26"]]);export{M as default};
